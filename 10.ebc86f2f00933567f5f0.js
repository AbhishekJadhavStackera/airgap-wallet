(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"4HcY":function(t,e,o){"use strict";o.d(e,"a",function(){return J});var n=o("mrSG"),i=o("RKiA"),c=o("14cC"),a=o("3Pt+"),r=o("kB5k"),s=o("2Vo4"),l=o("XNiG"),d=o("1G5W"),b=o("Kj3r"),h=o("SxV6"),u=o("57MG"),g=o("1y+R"),p=o("dW0/"),m=o("QMTT"),f=o("hPkG"),S=o("AFs5"),v=o("TxTD"),C=o("fXoL"),w=o("tyNb"),y=o("TEn/"),O=o("sYmb"),P=o("138U"),x=o("ofXK"),_=o("R0Ic"),R=o("yJqF"),T=o("F07p");const E=function(t){return{minExchangeAmount:t}};function A(t,e){if(1&t&&(C.Ob(0,"span",16),C.dc(1,"translate")),2&t){const t=C.cc();C.ic("innerHTML",C.fc(1,1,"swap.min-amount_label",C.mc(4,E,t.minExchangeAmount.toString())),C.rc)}}function M(t,e){if(1&t){const t=C.Tb();C.Sb(0,"ion-input",17),C.ac("input",function(e){return C.qc(t),C.cc().amountSet(e.target.value)}),C.Rb()}if(2&t){const t=C.cc();C.ic("disabled",t.currentlyNotSupported)}}function I(t,e){if(1&t){const t=C.Tb();C.Sb(0,"ion-input",18),C.ac("ngModelChange",function(e){return C.qc(t),C.cc().exchangeAmount=e}),C.Rb()}if(2&t){const t=C.cc();C.ic("disabled",!0)("ngModel",t.exchangeAmount)}}function k(t,e){if(1&t&&(C.Sb(0,"ion-row",19),C.Sb(1,"ion-text",20),C.Ob(2,"p",21),C.dc(3,"translate"),C.Rb(),C.Rb()),2&t){const t=C.cc();C.Cb(2),C.ic("innerHTML",C.fc(3,1,"swap.min-amount-error_label",C.mc(4,E,t.minExchangeAmount.toString())),C.rc)}}function N(t,e){1&t&&(C.Sb(0,"ion-row",19),C.Sb(1,"ion-text",20),C.Sb(2,"p",22),C.yc(3),C.dc(4,"translate"),C.Rb(),C.Rb(),C.Rb()),2&t&&(C.Cb(3),C.Ac(" ",C.ec(4,1,"swap.currently_not_supported")," "))}const W=function(t){return{accountBalance:t}};function F(t,e){if(1&t&&(C.Sb(0,"ion-row",19),C.Sb(1,"ion-text",23),C.Ob(2,"p",24),C.dc(3,"translate"),C.Rb(),C.Rb()),2&t){const t=C.cc();C.Cb(2),C.ic("innerHTML",C.fc(3,1,"swap.amount-higher-than-balance-error_label",C.mc(4,W,t.selectedWallet.currentBalance.shiftedBy(-1*t.selectedWallet.protocol.decimals))),C.rc)}}function j(t,e){if(1&t){const t=C.Tb();C.Sb(0,"portfolio-item",28),C.ac("click",function(){C.qc(t);const e=C.cc().$implicit;return C.cc(2).walletSet(e)}),C.Rb()}if(2&t){const t=C.cc().$implicit;C.ic("wallet",t)("hideFiatAmounts",!0)("isExpendable",!1)}}function L(t,e){if(1&t&&(C.Qb(0),C.wc(1,j,1,3,"portfolio-item",27),C.Pb()),2&t){const t=e.$implicit,o=C.cc(2);C.Cb(1),C.ic("ngIf",o.selectedWallet!==t)}}function D(t,e){if(1&t&&(C.Qb(0),C.Sb(1,"ion-list",25),C.wc(2,L,2,1,"ng-container",26),C.Rb(),C.Pb()),2&t){const t=C.cc();C.Cb(1),C.ic("@expandWalletAnimation",void 0),C.Cb(1),C.ic("ngForOf",t.supportedWallets)}}let B=(()=>{class t{constructor(t,e,o){this.alertCtrl=t,this.modalController=e,this.protocolService=o,this.expandWalletSelection=!1,this.currentlyNotSupported=!1,this.swapSell=!0,this.supportedProtocols=[],this.protocolSetEmitter=new C.o,this.walletSetEmitter=new C.o,this.amountSetEmitter=new C.o}amountSet(t){this._amount=t,this.amountSetEmitter.emit(t)}walletSet(t){this.walletSetEmitter.emit(t),this.expandWalletSelection=!1}doRadio(){return Object(n.a)(this,void 0,void 0,function*(){const t=(yield Promise.all(this.supportedProtocols.map(t=>Object(n.a)(this,void 0,void 0,function*(){return this.protocolService.getProtocol(t).catch(()=>{})})))).filter(t=>void 0!==t),e=yield this.modalController.create({component:R.a,componentProps:{selectedProtocol:this.selectedProtocol.identifier,protocols:t}});e.onDidDismiss().then(t=>Object(n.a)(this,void 0,void 0,function*(){t&&t.data&&this.protocolSetEmitter.emit(yield this.protocolService.getProtocol(t.data))})).catch(Object(f.b)(f.a.IONIC_MODAL)),e.present().catch(Object(f.b)(f.a.IONIC_MODAL))})}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(y.a),C.Nb(y.mb),C.Nb(P.x))},t.\u0275cmp=C.Hb({type:t,selectors:[["swap"]],inputs:{currentlyNotSupported:"currentlyNotSupported",swapSell:"swapSell",selectedWallet:"selectedWallet",supportedWallets:"supportedWallets",selectedProtocol:"selectedProtocol",supportedProtocols:"supportedProtocols",minExchangeAmount:"minExchangeAmount",exchangeAmount:"exchangeAmount"},outputs:{protocolSetEmitter:"protocolSetEmitter",walletSetEmitter:"walletSetEmitter",amountSetEmitter:"amountSetEmitter"},decls:26,vars:22,consts:[[1,"amount__container","border--vertical","ion-no-padding","ion-align-items-stretch"],["size","8",1,"ion-padding"],["lines","none",1,"ion-no-padding"],["position","stacked","color","blackLight",1,"ion-no-margin"],[3,"innerHTML",4,"ngIf"],["type","number","id","buy-input","placeholder","0.0",3,"disabled","input",4,"ngIf"],["type","number","id","sell-input","placeholder","0.0",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["color","blackLight"],[1,"ion-no-margin"],["class","ion-padding-top",4,"ngIf"],["size","4",1,"coin__selection","ion-padding",3,"click"],[3,"src"],["name","chevron-down-outline"],[1,"ion-no-margin","ion-padding-vertical"],["tappable","",3,"wallet","hideDelegationBadge","isExpendable","hideFiatAmounts","isExtended","click"],[4,"ngIf"],[3,"innerHTML"],["type","number","id","buy-input","placeholder","0.0",3,"disabled","input"],["type","number","id","sell-input","placeholder","0.0",3,"disabled","ngModel","ngModelChange"],[1,"ion-padding-top"],["no-margin","","color","danger"],["color","danger",1,"ion-no-margin",3,"innerHTML"],["color","danger",1,"ion-no-margin"],["color","danger"],[1,"ion-no-margin",3,"innerHTML"],["lines","none","margin-top",""],[4,"ngFor","ngForOf"],["tappable","",3,"wallet","hideFiatAmounts","isExpendable","click",4,"ngIf"],["tappable","",3,"wallet","hideFiatAmounts","isExpendable","click"]],template:function(t,e){if(1&t&&(C.Sb(0,"ion-row",0),C.Sb(1,"ion-col",1),C.Sb(2,"ion-item",2),C.Sb(3,"ion-label",3),C.yc(4),C.dc(5,"translate"),C.wc(6,A,2,6,"span",4),C.Rb(),C.wc(7,M,1,1,"ion-input",5),C.wc(8,I,1,2,"ion-input",6),C.Rb(),C.Sb(9,"ion-text",7),C.Sb(10,"p",8),C.yc(11),C.dc(12,"number"),C.Rb(),C.Rb(),C.wc(13,k,4,6,"ion-row",9),C.wc(14,N,5,3,"ion-row",9),C.wc(15,F,4,6,"ion-row",9),C.Rb(),C.Sb(16,"ion-col",10),C.ac("click",function(){return e.doRadio()}),C.Sb(17,"ion-row"),C.Ob(18,"img",11),C.Rb(),C.Sb(19,"ion-row"),C.Sb(20,"h5"),C.yc(21),C.Ob(22,"ion-icon",12),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Sb(23,"ion-list",13),C.Sb(24,"portfolio-item",14),C.ac("click",function(){return(null==e.supportedWallets?null:e.supportedWallets.length)>1?e.expandWalletSelection=!e.expandWalletSelection:{}}),C.Rb(),C.wc(25,D,3,2,"ng-container",15),C.Rb()),2&t){let t=null;C.Cb(4),C.Ac(" ",C.ec(5,17,e.swapSell?"swap.sell_label":"swap.buy_label")," "),C.Cb(2),C.ic("ngIf",e.minExchangeAmount),C.Cb(1),C.ic("ngIf",e.swapSell),C.Cb(1),C.ic("ngIf",!e.swapSell),C.Cb(3),C.Ac(" $",C.fc(12,19,null==e.exchangeAmount||null==(t=e.exchangeAmount.multipliedBy(null==e.selectedWallet?null:e.selectedWallet.currentMarketPrice))?null:t.toNumber(),"1.2-2")," "),C.Cb(2),C.ic("ngIf",e.swapSell&&!(null!=e.exchangeAmount&&e.exchangeAmount.isZero())&&(null==e.exchangeAmount?null:e.exchangeAmount.isLessThan(e.minExchangeAmount))),C.Cb(1),C.ic("ngIf",e.currentlyNotSupported),C.Cb(1),C.ic("ngIf",e.swapSell&&(null==e.exchangeAmount?null:e.exchangeAmount.isGreaterThan(e.selectedWallet.currentBalance.shiftedBy(-1*e.selectedWallet.protocol.decimals)))),C.Cb(3),C.ic("src","./assets/symbols/"+(null==e.selectedProtocol||null==e.selectedProtocol.symbol?null:e.selectedProtocol.symbol.toLowerCase())+".svg",C.sc),C.Cb(3),C.Ac(" ",null==e.selectedProtocol?null:e.selectedProtocol.symbol," "),C.Cb(2),C.ic("@expandWalletAnimation",void 0),C.Cb(1),C.ic("wallet",e.selectedWallet)("hideDelegationBadge",!0)("isExpendable",(null==e.supportedWallets?null:e.supportedWallets.length)>1)("hideFiatAmounts",!0)("isExtended",e.expandWalletSelection),C.Cb(1),C.ic("ngIf",e.expandWalletSelection)}},directives:[y.Q,y.p,y.A,y.D,x.o,y.eb,y.w,y.E,T.a,y.z,y.pb,a.h,a.j,x.n],pipes:[O.c,x.f],styles:[".amount__container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom-color:#0000!important;box-shadow:none!important}.amount__container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;margin:0}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]{background-color:#00e8cc3d;display:flex;align-items:center;justify-content:center;flex-direction:column}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{justify-content:center}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:8px 0;display:flex;align-items:center}.border--vertical[_ngcontent-%COMP%]{border-top:1px solid #00e8cc3d}"],data:{animation:[Object(_.i)("expandWalletAnimation",[Object(_.h)(":enter",[Object(_.g)({transform:"translateY(-20%)",opacity:0}),Object(_.e)("500ms",Object(_.g)({transform:"translateY(0)",opacity:1}))]),Object(_.h)(":leave",[Object(_.g)({transform:"translateY(0)",opacity:1}),Object(_.e)("500ms",Object(_.g)({transform:"translateY(-20%)",opacity:0}))])])]}}),t})();var G=o("pNtj"),H=o("cwVp");function z(t,e){if(1&t){const t=C.Tb();C.Qb(0),C.Sb(1,"ion-row",4),C.Sb(2,"ion-col",5),C.Ob(3,"h3",6),C.dc(4,"translate"),C.Sb(5,"ion-col",7),C.Ob(6,"img",8),C.Rb(),C.Sb(7,"p",9),C.yc(8),C.dc(9,"translate"),C.Rb(),C.Sb(10,"ion-button",10),C.ac("click",function(){return C.qc(t),C.cc().dismissExchangeOnboarding()}),C.yc(11),C.dc(12,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Pb()}2&t&&(C.Cb(3),C.ic("innerHTML",C.ec(4,3,"exchange.onboarding.heading"),C.rc),C.Cb(5),C.zc(C.ec(9,5,"exchange.onboarding.description")),C.Cb(3),C.Ac(" ",C.ec(12,7,"exchange.onboarding.exchange_label")," "))}function $(t,e){if(1&t){const t=C.Tb();C.Qb(0),C.Sb(1,"ion-row",4),C.Sb(2,"ion-col",5),C.Ob(3,"h3",6),C.dc(4,"translate"),C.Sb(5,"ion-col",7),C.Ob(6,"img",8),C.Rb(),C.Sb(7,"p",9),C.yc(8),C.dc(9,"translate"),C.Rb(),C.Sb(10,"ion-button",10),C.ac("click",function(){return C.qc(t),C.cc().goToAddCoinPage()}),C.yc(11),C.dc(12,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Pb()}2&t&&(C.Cb(3),C.ic("innerHTML",C.ec(4,3,"exchange.no-currencies.heading"),C.rc),C.Cb(5),C.zc(C.ec(9,5,"exchange.no-currencies.description")),C.Cb(3),C.Ac(" ",C.ec(12,7,"exchange.no-currencies.exchange_label")," "))}function q(t,e){1&t&&C.Ob(0,"img",27)}function U(t,e){1&t&&C.Ob(0,"img",28)}function V(t,e){1&t&&C.Ob(0,"img",29)}function Q(t,e){if(1&t){const t=C.Tb();C.Sb(0,"ion-row",17),C.Sb(1,"ion-col",18),C.Sb(2,"ion-row",19),C.Sb(3,"ion-text",20),C.Sb(4,"small"),C.yc(5),C.dc(6,"translate"),C.Rb(),C.Rb(),C.wc(7,q,1,0,"img",21),C.wc(8,U,1,0,"img",22),C.wc(9,V,1,0,"img",23),C.Rb(),C.Rb(),C.Sb(10,"ion-col",24),C.Sb(11,"ion-button",25),C.ac("click",function(){return C.qc(t),C.cc(2).doRadio()}),C.yc(12),C.dc(13,"translate"),C.Ob(14,"ion-icon",26),C.Rb(),C.Rb(),C.Rb()}if(2&t){const t=C.cc(2);C.Cb(5),C.zc(C.ec(6,6,"exchange.powered-by_label")),C.Cb(2),C.ic("ngIf",t.activeExchange===t.ExchangeEnum.CHANGENOW),C.Cb(1),C.ic("ngIf",t.activeExchange===t.ExchangeEnum.CHANGELLY),C.Cb(1),C.ic("ngIf",t.activeExchange===t.ExchangeEnum.QUIPUSWAP),C.Cb(2),C.ic("disabled",t.disableExchangeSelection),C.Cb(1),C.Ac(" ",C.ec(13,8,"exchange.switch-exchange_label")," ")}}function X(t,e){if(1&t&&(C.Sb(0,"ion-row",30),C.Sb(1,"ion-col",5),C.Ob(2,"widget-selector",31),C.Rb(),C.Rb()),2&t){const t=e.$implicit,o=C.cc(2);C.Cb(2),C.ic("widget",t)("widgetForm",o.exchangeForm.controls[o.activeExchange])}}function Y(t,e){if(1&t){const t=C.Tb();C.Qb(0),C.Sb(1,"swap",11),C.ac("protocolSetEmitter",function(e){return C.qc(t),C.cc().setFromProtocol(e)})("walletSetEmitter",function(e){return C.qc(t),C.cc().setFromWallet(e)})("amountSetEmitter",function(e){return C.qc(t),C.cc().amountSet(e)}),C.Rb(),C.Sb(2,"swap",12),C.ac("protocolSetEmitter",function(e){return C.qc(t),C.cc().setToProtocol(e)})("walletSetEmitter",function(e){return C.qc(t),C.cc().setToWallet(e)}),C.Rb(),C.Ob(3,"div",13),C.wc(4,Q,15,10,"ion-row",14),C.wc(5,X,3,2,"ion-row",15),C.Ob(6,"fee",16),C.Pb()}if(2&t){const t=C.cc();C.Cb(1),C.ic("selectedWallet",t.fromWallet)("supportedWallets",t.supportedFromWallets)("selectedProtocol",t.selectedFromProtocol)("supportedProtocols",t.supportedProtocolsFrom)("exchangeAmount",t.amount)("minExchangeAmount",t.minExchangeAmount)("currentlyNotSupported",t.currentlyNotSupported),C.Cb(1),C.ic("selectedWallet",t.toWallet)("supportedWallets",t.supportedToWallets)("selectedProtocol",t.selectedToProtocol)("supportedProtocols",t.supportedProtocolsTo)("exchangeAmount",t.exchangeAmount)("swapSell",!1),C.Cb(2),C.ic("ngIf",!t.isTZBTCExchange),C.Cb(1),C.ic("ngForOf",t.exchangeWidgets),C.Cb(1),C.ic("state",t.state)("form",t.exchangeForm)("wallet",t.fromWallet)}}function K(t,e){if(1&t){const t=C.Tb();C.Qb(0),C.Sb(1,"ion-fab",32),C.Sb(2,"ion-button",33),C.ac("click",function(){return C.qc(t),C.cc().startExchange()}),C.yc(3),C.dc(4,"translate"),C.Rb(),C.Rb(),C.Pb()}if(2&t){const t=C.cc();C.Cb(2),C.ic("disabled",(null==t.amount?null:t.amount.isNaN())||(null==t.amount?null:t.amount.isZero())||(null==t.amount?null:t.amount.isLessThan(t.minExchangeAmount))||(null==t.amount?null:t.amount.isGreaterThan(t.fromWallet.currentBalance.shiftedBy(-1*t.fromWallet.protocol.decimals)))||t.currentlyNotSupported),C.Cb(1),C.Ac(" ",C.ec(4,2,"exchange.exchange_label")," ")}}var Z=function(t){return t[t.LOADING=0]="LOADING",t[t.ONBOARDING=1]="ONBOARDING",t[t.NOT_ENOUGH_CURRENCIES=2]="NOT_ENOUGH_CURRENCIES",t[t.EXCHANGE=3]="EXCHANGE",t}({});let J=(()=>{class t{constructor(t,e,o,n,i,c,a,d,b,h,u,g,m){this.formBuilder=t,this.router=e,this.exchangeProvider=o,this.storageProvider=n,this.accountProvider=i,this.dataService=c,this.loadingController=a,this.translateService=d,this.modalController=b,this.alertCtrl=h,this.priceService=u,this.protocolService=g,this._ngZone=m,this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.currentlyNotSupported=!1,this.minExchangeAmount=new r.BigNumber(0),this.amount=new r.BigNumber(0),this.disableExchangeSelection=!1,this.activeExchange$=new s.a(void 0),this.isSubstrate=!1,this.ExchangeEnum=p.a,this.exchangePageStates=Z,this.exchangePageState=Z.LOADING,this.exchangeWidgets=[],this._state=void 0,this.state$=new s.a(this._state),this.ngDestroyed$=new l.a}get isTZBTCExchange(){return void 0!==this.selectedFromProtocol&&this.selectedFromProtocol.identifier===i.SubProtocolSymbols.XTZ_BTC||void 0!==this.selectedToProtocol&&this.selectedToProtocol.identifier===i.SubProtocolSymbols.XTZ_BTC}ionViewWillEnter(){this.initForm(),this.initState(),this.accountProvider.allWallets$.asObservable().pipe(Object(d.a)(this.ngDestroyed$)).subscribe(t=>{this.walletList=t.filter(t=>t.status===i.AirGapWalletStatus.ACTIVE)}),this.exchangeProvider.getActiveExchange().pipe(Object(d.a)(this.ngDestroyed$)).subscribe(t=>{this.changeExchange(t).catch(Object(f.b)(f.a.OTHER))}),this.activeExchange$.pipe(Object(d.a)(this.ngDestroyed$)).subscribe(t=>{this.activeExchange=t}),this.setup().then(()=>{try{this.onChanges(),this.updateFeeEstimate()}catch(t){console.error(t)}}).catch(t=>{console.error(t),this.showLoadingErrorAlert()})}changeExchange(t){return Object(n.a)(this,void 0,void 0,function*(){this.exchangeForm.removeControl(this.activeExchange),this.updateState({providerState:null}),this.activeExchange$.next(t);const e=yield this.exchangeProvider.getCustomUI();this.exchangeWidgets=e.widgets,e.form&&(this.exchangeForm.addControl(this.activeExchange,e.form),this.updateState({providerState:e.form.value}),this.exchangeForm.controls[this.activeExchange].valueChanges.subscribe(t=>{this.updateState({providerState:t})}))})}initForm(){this.exchangeForm=this.formBuilder.group({feeLevel:[0,[a.m.required]],fee:[0,a.m.compose([a.m.required])],isAdvancedMode:[!1,[]]})}initState(){this._state={feeDefaults:{low:"0",medium:"0",high:"0"},disableAdvancedMode:this.isSubstrate,feeCurrentMarketPrice:null,disableFeeSlider:!0,disableExchangeButton:!0,estimatingFeeDefaults:!1,feeLevel:{value:this.exchangeForm.controls.feeLevel.value,dirty:!1},fee:{value:this.exchangeForm.controls.fee.value,dirty:!1},isAdvancedMode:{value:this.exchangeForm.controls.isAdvancedMode.value,dirty:!1},providerState:null,lastUpdated:[]},this.state=this._state,this.updateState(this.state)}updateTransactionForm(t){const e=this.exchangeForm.value,o={};Object.keys(e).forEach(n=>{n in t&&!t[n].dirty&&t[n].value!==e[n]&&(o[n]=t[n].value)}),this._ngZone.run(()=>{this.exchangeForm.patchValue(o,{emitEvent:!1}),Object.keys(o).forEach(t=>{this.exchangeForm.controls[t].markAsDirty()})})}onStateUpdated(t){this.state=t,this.updateTransactionForm({fee:this.state.fee,feeLevel:this.state.feeLevel,isAdvancedMode:this.state.isAdvancedMode}),this.state.lastUpdated.includes("providerState")&&this.loadDataFromExchange().then(()=>this.updateFeeEstimate())}onChanges(){this.state$.pipe(Object(b.a)(200)).subscribe(t=>{this.onStateUpdated(t)}),this.exchangeForm.get("fee").valueChanges.pipe(Object(b.a)(500)).subscribe(t=>{const e=new r.BigNumber(t);this.updateState({fee:{value:e.isNaN()?"":e.toFixed(),dirty:!0}})}),this.exchangeForm.get("feeLevel").valueChanges.subscribe(t=>{const e=new r.BigNumber(this.getFeeFromLevel(t));this.updateState({fee:{value:e.toFixed(),dirty:!1},feeLevel:{value:t,dirty:!0},disableExchangeButton:this.exchangeForm.invalid||this.amount.lte(0)},!1)}),this.exchangeForm.get("isAdvancedMode").valueChanges.subscribe(t=>{this.updateState({isAdvancedMode:{value:t,dirty:!0},disableExchangeButton:this.exchangeForm.invalid||new r.BigNumber(this.amount).lte(0)},!1)})}updateFeeEstimate(){return Object(n.a)(this,void 0,void 0,function*(){if(this._state){let t;t=this.selectedFromProtocol.identifier.startsWith(i.SubProtocolSymbols.ETH_ERC20)?this.priceService.getCurrentMarketPrice(new i.EthereumProtocol,"USD").then(t=>t.toNumber()):(yield this.priceService.getCurrentMarketPrice(this.selectedFromProtocol,"USD")).toNumber(),this.updateState({feeCurrentMarketPrice:t}),this.updateState({estimatingFeeDefaults:!0,disableFeeSlider:!0,disableExchangeButton:!0});const e=yield this.estimateFees().catch(()=>{}),o=e&&!this.isSubstrate?1:this._state.feeLevel.value;this.updateState({estimatingFeeDefaults:!1,feeDefaults:e,fee:{value:new r.BigNumber(this.getFeeFromLevel(o,e)).toFixed(),dirty:!1},feeLevel:{value:o,dirty:!1},disableFeeSlider:!e,disableExchangeButton:!e||this.exchangeForm.invalid||this.amount.lte(0)})}})}estimateFees(t){return Object(n.a)(this,void 0,void 0,function*(){return this.exchangeProvider.estimateFee(this.fromWallet,this.toWallet,(null!=t?t:this.amount).toString(),this.state.providerState)})}getFeeFromLevel(t,e){const o=e||this._state.feeDefaults;switch(t){case 0:return o.low;case 1:return o.medium;case 2:return o.high;default:return o.medium}}filterSupportedProtocols(t,e=!0){return Object(n.a)(this,void 0,void 0,function*(){const o=t.filter(t=>this.walletList.some(o=>o.protocol.identifier===t&&(!e||e&&o.currentBalance.isGreaterThan(0)))),n=o.indexOf(i.SubProtocolSymbols.XTZ_BTC);return-1===n||this.walletList.some(t=>t.protocol.identifier===i.MainProtocolSymbols.BTC)||o.splice(n,1),o})}setup(){return Object(n.a)(this,void 0,void 0,function*(){yield this.activeExchange$.pipe(Object(h.a)()).toPromise();const t=yield this.getSupportedFromProtocols();if(0===t.length)throw this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.selectedFromProtocol=void 0,this.selectedToProtocol=void 0,this.exchangePageState=Z.NOT_ENOUGH_CURRENCIES,new Error("could not set up exchange");let e;this.supportedProtocolsFrom=t,e=void 0!==this.selectedFromProtocol&&this.supportedProtocolsFrom.includes(this.selectedFromProtocol.identifier)?this.selectedFromProtocol.identifier:t[0],yield this.setFromProtocol(yield this.protocolService.getProtocol(e)),this.exchangePageState!==Z.LOADING||(yield this.storageProvider.get(S.a.EXCHANGE_INTEGRATION))?this.supportedProtocolsFrom.length>0&&this.supportedProtocolsTo.length>0&&(this.exchangePageState=Z.EXCHANGE):this.exchangePageState=Z.ONBOARDING})}showLoadingErrorAlert(){return Object(n.a)(this,void 0,void 0,function*(){const t=this.activeExchange;this.exchangeProvider.switchActiveExchange();const e=this.activeExchange;this.setup().then(()=>this.switchExchange(t,e)).then(()=>{this.onChanges()}).catch(()=>this.displaySetupFail())})}switchExchange(t,e){return Object(n.a)(this,void 0,void 0,function*(){const o=yield this.alertCtrl.create({header:this.translateService.instant("exchange.loading.setup"),message:`${t} could currently not be loaded, switched to ${e}`,backdropDismiss:!1,buttons:[{text:"ok",role:"cancel"}]});this.disableExchangeSelection=!0,o.present().catch(Object(f.b)(f.a.IONIC_ALERT))})}displaySetupFail(){return Object(n.a)(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:this.translateService.instant("exchange.loading.setup"),message:this.translateService.instant("exchange.loading.message"),backdropDismiss:!1,buttons:[{text:"ok",role:"cancel"}]})).present().catch(Object(f.b)(f.a.IONIC_ALERT))})}getSupportedFromProtocols(){return Object(n.a)(this,void 0,void 0,function*(){const t=yield this.exchangeProvider.getAvailableFromCurrencies();t.push(i.SubProtocolSymbols.XTZ_BTC);const e=yield this.filterSupportedProtocols(t);return(yield Promise.all(e.map(t=>Object(n.a)(this,void 0,void 0,function*(){return t===i.SubProtocolSymbols.XTZ_BTC||(yield this.exchangeProvider.getAvailableToCurrenciesForCurrency(t)).length>0?t:void 0})))).filter(t=>void 0!==t)})}getSupportedToProtocols(t){return Object(n.a)(this,void 0,void 0,function*(){if(t===i.SubProtocolSymbols.XTZ_BTC)return this.filterSupportedProtocols([i.MainProtocolSymbols.BTC],!1);const e=yield this.exchangeProvider.getAvailableToCurrenciesForCurrency(t);return t===i.MainProtocolSymbols.BTC&&e.push(i.SubProtocolSymbols.XTZ_BTC),this.filterSupportedProtocols(e,!1)})}setFromProtocol(t){return Object(n.a)(this,void 0,void 0,function*(){if(this.selectedFromProtocol=t,this.supportedProtocolsTo=yield this.getSupportedToProtocols(t.identifier),0===this.supportedProtocolsTo.length)return this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.selectedFromProtocol=void 0,this.selectedToProtocol=void 0,void(this.exchangePageState=Z.NOT_ENOUGH_CURRENCIES);if(void 0===this.selectedToProtocol||this.selectedFromProtocol.identifier===this.selectedToProtocol.identifier||!this.supportedProtocolsTo.includes(this.selectedToProtocol.identifier)){const t=yield this.protocolService.getProtocol(this.supportedProtocolsTo[0]);this.selectedToProtocol=t,this.loadWalletsForSelectedToProtocol()}this.loadWalletsForSelectedFromProtocol(),this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),this.updateFeeEstimate()})}setToProtocol(t){return Object(n.a)(this,void 0,void 0,function*(){this.selectedToProtocol=t,this.loadWalletsForSelectedToProtocol(),this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged()})}loadWalletsForSelectedFromProtocol(){this.supportedFromWallets=this.walletsForProtocol(this.selectedFromProtocol.identifier,!0),this.shouldReplaceActiveWallet(this.fromWallet,this.supportedFromWallets)&&(this.fromWallet=this.supportedFromWallets[0])}loadWalletsForSelectedToProtocol(){this.supportedToWallets=this.walletsForProtocol(this.selectedToProtocol.identifier,!1),this.toWallet=this.supportedToWallets[0],this.shouldReplaceActiveWallet(this.toWallet,this.supportedToWallets)&&(this.toWallet=this.supportedToWallets[0])}walletsForProtocol(t,e=!0){return this.walletList.filter(o=>o.protocol.identifier===t&&o.protocol.options.network.type===c.NetworkType.MAINNET&&(!e||o.currentBalance.isGreaterThan(0)))}shouldReplaceActiveWallet(t,e){return!t||t.protocol.identifier!==e[0].protocol.identifier||e.every(e=>!this.accountProvider.isSameWallet(e,t))}setFromWallet(t){return Object(n.a)(this,void 0,void 0,function*(){this.fromWallet=t,this.isSubstrate=this.fromWallet.protocol.identifier===i.MainProtocolSymbols.KUSAMA||this.selectedFromProtocol.identifier===i.MainProtocolSymbols.POLKADOT,this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged()})}setToWallet(t){return Object(n.a)(this,void 0,void 0,function*(){this.toWallet=t,this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged()})}amountSet(t){return Object(n.a)(this,void 0,void 0,function*(){this.amount=new r.BigNumber(t),this.updateFeeEstimate(),this.loadDataFromExchange()})}loadDataFromExchange(){return Object(n.a)(this,void 0,void 0,function*(){this.currentlyNotSupported=!1;try{this.fromWallet&&this.toWallet&&(this.minExchangeAmount=yield this.getMinAmountForCurrency()),this.exchangeAmount=this.fromWallet&&this.toWallet&&this.amount.isGreaterThan(0)?new r.BigNumber(yield this.getExchangeAmount()):new r.BigNumber(0)}catch(t){this.currentlyNotSupported=!0}})}getMinAmountForCurrency(){return Object(n.a)(this,void 0,void 0,function*(){return new r.BigNumber(this.isTZBTCExchange?0:yield this.exchangeProvider.getMinAmountForCurrency(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier))})}getExchangeAmount(){return Object(n.a)(this,void 0,void 0,function*(){return this.isTZBTCExchange?this.amount.toFixed():yield this.exchangeProvider.getExchangeAmount(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier,this.amount.toString(),this.state.providerState)})}startExchange(){return Object(n.a)(this,void 0,void 0,function*(){if(this.isTZBTCExchange)this.router.navigateByUrl("/exchange-custom").catch(Object(f.b)(f.a.STORAGE));else{const e=yield this.getAndShowLoader();try{const t=yield this.exchangeProvider.createTransaction(this.fromWallet,this.toWallet,this.amount.toString(),this.state.fee.value,this.state.providerState),o=Object.assign(Object.assign({},t),{fromWallet:this.fromWallet,fromCurrency:this.fromWallet.protocol.marketSymbol,toWallet:this.toWallet,toCurrency:this.toWallet.protocol.marketSymbol});this.dataService.setData(g.b.EXCHANGE,o),this.router.navigateByUrl("/exchange-confirm/"+g.b.EXCHANGE).catch(Object(f.b)(f.a.STORAGE));const n=t.id;let i=(yield this.exchangeProvider.getStatus(n)).status;const c={receivingAddress:this.toWallet.addresses[0],sendingAddress:this.fromWallet.addresses[0],fromCurrency:this.fromWallet.protocol.identifier,toCurrency:this.toWallet.protocol.identifier,amountExpectedFrom:this.amount,amountExpectedTo:t.amountExpectedTo,fee:t.fee,status:i,exchange:this.activeExchange,id:n,timestamp:new r.BigNumber(Date.now()).toNumber()};this.exchangeProvider.pushExchangeTransaction(c)}catch(t){console.error(t)}finally{this.hideLoader(e)}}})}doRadio(){return Object(n.a)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:v.a,componentProps:{activeExchange:this.activeExchange}});t.present().catch(t=>console.error(t)),t.onDidDismiss().then(()=>Object(n.a)(this,void 0,void 0,function*(){yield this.setup()})).catch(Object(f.b)(f.a.IONIC_MODAL))})}dismissExchangeOnboarding(){this.setup(),this.storageProvider.set(S.a.EXCHANGE_INTEGRATION,!0).catch(Object(f.b)(f.a.STORAGE))}goToAddCoinPage(){this.router.navigateByUrl("/account-add")}getAndShowLoader(){return Object(n.a)(this,void 0,void 0,function*(){const t=yield this.loadingController.create({message:"Preparing transaction..."});return yield t.present().catch(Object(f.b)(f.a.IONIC_LOADER)),t})}hideLoader(t){t.dismiss().catch(Object(f.b)(f.a.IONIC_LOADER))}updateState(t,e=!0){this._state&&(this._state=this.reduceState(this._state,t),e?this.state$.next(this._state):this.onStateUpdated(this._state))}reduceState(t,e){return{feeDefaults:e.feeDefaults||t.feeDefaults,feeCurrentMarketPrice:void 0!==e.feeCurrentMarketPrice?e.feeCurrentMarketPrice:t.feeCurrentMarketPrice,disableAdvancedMode:this.isSubstrate||(void 0!==e.disableAdvancedMode?e.disableAdvancedMode:t.disableAdvancedMode),disableFeeSlider:this.isSubstrate||(void 0!==e.disableFeeSlider?e.disableFeeSlider:t.disableFeeSlider),disableExchangeButton:void 0!==e.disableExchangeButton?e.disableExchangeButton:t.disableExchangeButton,estimatingFeeDefaults:void 0!==e.estimatingFeeDefaults?e.estimatingFeeDefaults:t.estimatingFeeDefaults,feeLevel:e.feeLevel||t.feeLevel,fee:e.fee||t.fee,isAdvancedMode:e.isAdvancedMode||t.isAdvancedMode,providerState:void 0!==e.providerState?e.providerState:t.providerState,lastUpdated:Object.keys(e)}}ngOnDestroy(){this.ngDestroyed$.next(),this.ngDestroyed$.complete()}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(a.b),C.Nb(w.g),C.Nb(p.b),C.Nb(S.b),C.Nb(u.a),C.Nb(g.a),C.Nb(y.lb),C.Nb(O.d),C.Nb(y.mb),C.Nb(y.a),C.Nb(m.a),C.Nb(P.x),C.Nb(C.B))},t.\u0275cmp=C.Hb({type:t,selectors:[["page-exchange"]],decls:14,vars:7,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],[4,"ngIf"],[1,"onboarding__container","ion-padding"],["size","12"],[1,"ion-no-margin",3,"innerHTML"],[1,"content--align__center-center","ion-no-padding"],["src","./assets/img/token_swap.svg"],[1,"ion-no-margin","ion-padding-bottom"],["shape","round","color","primary","expand","full",3,"click"],[3,"selectedWallet","supportedWallets","selectedProtocol","supportedProtocols","exchangeAmount","minExchangeAmount","currentlyNotSupported","protocolSetEmitter","walletSetEmitter","amountSetEmitter"],[3,"selectedWallet","supportedWallets","selectedProtocol","supportedProtocols","exchangeAmount","swapSell","protocolSetEmitter","walletSetEmitter"],[1,"divider--line"],["class","powered__container ion-padding ion-align-items-center",4,"ngIf"],["class","ion-padding-horizontal ion-padding-bottom",4,"ngFor","ngForOf"],[3,"state","form","wallet"],[1,"powered__container","ion-padding","ion-align-items-center"],[1,"ion-no-padding"],[1,"powered__container","ion-align-items-center"],["color","blackLight"],["src","./assets/img/changenow_logo.svg",4,"ngIf"],["src","./assets/img/changelly_logo.svg",4,"ngIf"],["src","./assets/img/quipuswap_logo.svg",4,"ngIf"],[1,"ion-no-padding","justify--content__end"],["fill","clear","color","secondary","size","small",3,"disabled","click"],["name","chevron-down-outline"],["src","./assets/img/changenow_logo.svg"],["src","./assets/img/changelly_logo.svg"],["src","./assets/img/quipuswap_logo.svg"],[1,"ion-padding-horizontal","ion-padding-bottom"],[3,"widget","widgetForm"],["vertical","bottom","horizontal","end"],["color","primary","shape","round",3,"disabled","click"]],template:function(t,e){1&t&&(C.Sb(0,"ion-header",0),C.Sb(1,"ion-grid",1),C.Sb(2,"ion-toolbar"),C.Sb(3,"ion-buttons",2),C.Ob(4,"ion-menu-button"),C.Rb(),C.Sb(5,"ion-title"),C.yc(6),C.dc(7,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Sb(8,"ion-content"),C.Sb(9,"ion-grid",1),C.wc(10,z,13,9,"ng-container",3),C.wc(11,$,13,9,"ng-container",3),C.wc(12,Y,7,18,"ng-container",3),C.Rb(),C.Rb(),C.wc(13,K,5,4,"ng-container",3)),2&t&&(C.Cb(6),C.zc(C.ec(7,5,"exchange.title")),C.Cb(4),C.ic("ngIf",e.exchangePageState===e.exchangePageStates.ONBOARDING),C.Cb(1),C.ic("ngIf",e.exchangePageState===e.exchangePageStates.NOT_ENOUGH_CURRENCIES),C.Cb(1),C.ic("ngIf",e.exchangePageState===e.exchangePageStates.EXCHANGE),C.Cb(1),C.ic("ngIf",e.exchangePageState===e.exchangePageStates.EXCHANGE))},directives:[y.v,y.u,y.ib,y.j,y.H,y.gb,y.q,x.o,y.Q,y.p,y.i,B,x.n,G.a,y.eb,y.w,H.a,y.r],pipes:[O.c],styles:[".onboarding__container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50vh;height:50vh}.divider--line[_ngcontent-%COMP%]{border-top:1px solid rgba(var(--ion-color-primary-rgb),.24)}.powered__container[_ngcontent-%COMP%]{padding-bottom:8px}.powered__container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:24px;margin-left:8px;max-width:96px}ion-content[_ngcontent-%COMP%]{--padding-bottom:108px}"]}),t})()},XvSo:function(t,e,o){"use strict";o.d(e,"a",function(){return y});var n=o("mrSG"),i=o("138U"),c=o("ofXK"),a=o("wTY4"),r=o("hPkG"),s=o("AffV"),l=o("fXoL"),d=o("TEn/"),b=o("IyRd"),h=o("sYmb"),u=o("kB5k");let g=(()=>{class t{transform(t){return u.BigNumber.isBigNumber(t)&&(t=t.toNumber()),`${new u.BigNumber(t).shiftedBy(2).toFixed(2)}%`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Mb({name:"percentage",type:t,pure:!0}),t})();const p=["scanner"];function m(t,e){if(1&t&&(l.Sb(0,"ion-text",19),l.yc(1),l.dc(2,"percentage"),l.Rb()),2&t){const t=l.cc();l.Cb(1),l.zc(l.ec(2,1,t.percentageScanned))}}function f(t,e){1&t&&(l.Qb(0),l.yc(1),l.dc(2,"translate"),l.Pb()),2&t&&(l.Cb(1),l.zc(l.ec(2,1,"scan.text")))}function S(t,e){1&t&&(l.Qb(0),l.yc(1),l.dc(2,"translate"),l.Pb()),2&t&&(l.Cb(1),l.zc(l.ec(2,1,"scan.multi-qr_text")))}function v(t,e){if(1&t&&l.Ob(0,"ion-progress-bar",20),2&t){const t=l.cc();l.ic("value",t.percentageScanned)}}const C=function(){return["QR_CODE"]};function w(t,e){if(1&t){const t=l.Tb();l.Sb(0,"zxing-scanner",21,22),l.ac("scanSuccess",function(e){return l.qc(t),l.cc().checkScan(e)}),l.Rb()}2&t&&l.ic("formats",l.lc(3,C))("timeBetweenScans",0)("delayBetweenScanSuccess",0)}let y=(()=>{class t extends s.a{constructor(t,e,o,n,i){super(t,e,o),this.platform=t,this.scanner=e,this.permissionsProvider=o,this.iacService=n,this.ngZone=i,this.percentageScanned=0,this.parts=new Set,this.isMultiQr=!1}ionViewWillEnter(){const t=Object.create(null,{ionViewWillEnter:{get:()=>super.ionViewWillEnter}});return Object(n.a)(this,void 0,void 0,function*(){yield t.ionViewWillEnter.call(this),this.resetScannerPage(),this.iacService.resetHandlers()})}resetScannerPage(){this.parts=new Set,this.percentageScanned=0,this.isMultiQr=!1,this.iacService.resetHandlers()}checkScan(t){return Object(n.a)(this,void 0,void 0,function*(){const e=this.parts.size;if(this.parts.add(t),e===this.parts.size)return console.log(`[SCAN:checkScan]: Already scanned string skipping ${t}`),void this.startScan();console.log(`[SCAN:checkScan]: Trying to decode string ${t}`),this.ngZone.run(()=>{this.iacService.handleRequest(t,i.p.QR_SCANNER,t=>{console.log("scan result",t),this.isMultiQr=!0,this.percentageScanned=null!=t?t:0,this.startScan()}).catch(Object(r.b)(r.a.SCHEME_ROUTING))})})}ionViewWillLeave(){super.ionViewWillLeave(),this.resetScannerPage()}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(d.qb),l.Nb(i.z),l.Nb(i.w),l.Nb(a.a),l.Nb(l.B))},t.\u0275cmp=l.Hb({type:t,selectors:[["page-scan"]],viewQuery:function(t,e){if(1&t&&l.Ec(p,1),2&t){let t;l.oc(t=l.bc())&&(e.zxingScanner=t.first)}},features:[l.Bb([c.q]),l.zb],decls:29,vars:18,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],["slot","end","class","ion-padding-end",4,"ngIf"],["forceOverscroll","false"],["color","secondary"],[1,"ion-padding","ion-no-margin"],[4,"ngIf"],["style","height: 8px","color","secondary",3,"value",4,"ngIf"],[1,"row--height__100","ion-justify-content-center","ion-align-items-center",3,"hidden"],[1,"guides--container","content--align__center-center"],["src","./assets/img/qr_code_guides.svg",1,"guides--container__img"],[3,"formats","timeBetweenScans","delayBetweenScanSuccess","scanSuccess",4,"ngIf"],[1,"row--height__100","ion-justify-content-center","ion-align-items-center",3,"hidden","click"],[1,"ion-text-center"],["src","./assets/img/permission_onboarding_camera.svg"],[1,"ion-padding-horizontal",3,"innerHTML"],["shape","round","color","primary"],["slot","end",1,"ion-padding-end"],["color","secondary",2,"height","8px",3,"value"],[3,"formats","timeBetweenScans","delayBetweenScanSuccess","scanSuccess"],["scanner",""]],template:function(t,e){1&t&&(l.Sb(0,"ion-header",0),l.Sb(1,"ion-grid",1),l.Sb(2,"ion-toolbar"),l.Sb(3,"ion-buttons",2),l.Ob(4,"ion-menu-button"),l.Ob(5,"ion-back-button",3),l.Rb(),l.Sb(6,"ion-title"),l.yc(7),l.dc(8,"translate"),l.Rb(),l.wc(9,m,3,3,"ion-text",4),l.Rb(),l.Rb(),l.Rb(),l.Sb(10,"ion-content",5),l.Sb(11,"ion-grid",1),l.Sb(12,"ion-text",6),l.Sb(13,"p",7),l.wc(14,f,3,3,"ng-container",8),l.wc(15,S,3,3,"ng-container",8),l.Rb(),l.Rb(),l.wc(16,v,1,1,"ion-progress-bar",9),l.Sb(17,"ion-row",10),l.Sb(18,"ion-col",11),l.Ob(19,"img",12),l.Rb(),l.wc(20,w,2,4,"zxing-scanner",13),l.Rb(),l.Sb(21,"ion-row",14),l.ac("click",function(){return e.requestPermission()}),l.Sb(22,"ion-col",15),l.Ob(23,"img",16),l.Ob(24,"h3",17),l.dc(25,"translate"),l.Sb(26,"ion-button",18),l.yc(27),l.dc(28,"translate"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Cb(7),l.zc(l.ec(8,12,"scan.title")),l.Cb(2),l.ic("ngIf",e.isMultiQr),l.Cb(1),l.Fb("transparent",e.hasCameraPermission),l.Cb(4),l.ic("ngIf",!e.isMultiQr),l.Cb(1),l.ic("ngIf",e.isMultiQr),l.Cb(1),l.ic("ngIf",e.isMultiQr),l.Cb(1),l.ic("hidden",!e.hasCameraPermission),l.Cb(3),l.ic("ngIf",e.isBrowser||e.isElectron),l.Cb(1),l.ic("hidden",e.hasCameraPermission),l.Cb(3),l.ic("innerHTML",l.ec(25,14,"scan.empty-state_heading"),l.rc),l.Cb(3),l.zc(l.ec(28,16,"scan.grant-permission_label")))},directives:[d.v,d.u,d.ib,d.j,d.H,d.f,d.g,d.gb,c.o,d.q,d.eb,d.Q,d.p,d.i,d.J,b.a],pipes:[h.c,g],styles:["[_ngcontent-%COMP%]:root{--ion-color-primary:#00e8cc;--ion-color-primary-rgb:0,232,204;--ion-color-primary-contrast:#311b58;--ion-color-primary-contrast-rgb:49,27,88;--ion-color-primary-shade:#00ccb4;--ion-color-primary-tint:#1aead1;--ion-color-secondary:#311b58;--ion-color-secondary-rgb:49,27,88;--ion-color-secondary-contrast:#00e8cc;--ion-color-secondary-contrast-rgb:0,232,204;--ion-color-secondary-shade:#2b184d;--ion-color-secondary-tint:#463269;--ion-color-tertiary:#7044ff;--ion-color-tertiary-rgb:112,68,255;--ion-color-tertiary-contrast:#fff;--ion-color-tertiary-contrast-rgb:255,255,255;--ion-color-tertiary-shade:#633ce0;--ion-color-tertiary-tint:#7e57ff;--ion-color-success:#10dc60;--ion-color-success-rgb:16,220,96;--ion-color-success-contrast:#fff;--ion-color-success-contrast-rgb:255,255,255;--ion-color-success-shade:#0ec254;--ion-color-success-tint:#28e070;--ion-color-warning:#ffce00;--ion-color-warning-rgb:255,206,0;--ion-color-warning-contrast:#fff;--ion-color-warning-contrast-rgb:255,255,255;--ion-color-warning-shade:#e0b500;--ion-color-warning-tint:#ffd31a;--ion-color-danger:#f04141;--ion-color-danger-rgb:245,61,61;--ion-color-danger-contrast:#fff;--ion-color-danger-contrast-rgb:255,255,255;--ion-color-danger-shade:#d33939;--ion-color-danger-tint:#f25454;--ion-color-dark:#222428;--ion-color-dark-rgb:34,34,34;--ion-color-dark-contrast:#fff;--ion-color-dark-contrast-rgb:255,255,255;--ion-color-dark-shade:#1e2023;--ion-color-dark-tint:#383a3e;--ion-color-medium:#989aa2;--ion-color-medium-rgb:152,154,162;--ion-color-medium-contrast:#fff;--ion-color-medium-contrast-rgb:255,255,255;--ion-color-medium-shade:#86888f;--ion-color-medium-tint:#a2a4ab;--ion-color-light:#f4f4f4;--ion-color-light-rgb:244,244,244;--ion-color-light-contrast:#000;--ion-color-light-contrast-rgb:0,0,0;--ion-color-light-shade:#d7d8da;--ion-color-light-tint:#f5f6f9;--ion-color-secondaryLight:#440094;--ion-color-secondaryLight-rgb:68,0,148;--ion-color-secondaryLight-contrast:#fff;--ion-color-secondaryLight-contrast-rgb:255,255,255;--ion-color-secondaryLight-shade:#3c0082;--ion-color-secondaryLight-tint:#571a9f;--ion-color-gray:#d3d3d3;--ion-color-gray-rgb:211,211,211;--ion-color-gray-contrast:#000;--ion-color-gray-contrast-rgb:255,255,255;--ion-color-gray-shade:#bababa;--ion-color-gray-tint:#d7d7d7;--ion-color-grayLight:#f4f4f4;--ion-color-grayLight-rgb:244,244,244;--ion-color-grayLight-contrast:#000;--ion-color-grayLight-contrast-rgb:255,255,255;--ion-color-grayLight-shade:#d7d7d7;--ion-color-grayLight-tint:#f5f5f5}[_ngcontent-%COMP%]:root   ion-title[_ngcontent-%COMP%]{--color:var(--ion-color-secondary)}[_ngcontent-%COMP%]:root   ion-back-button[_ngcontent-%COMP%]{--icon-margin-end:0;--color:var(--ion-color-secondary)}[_ngcontent-%COMP%]:root   ion-button[_ngcontent-%COMP%]{--border-width:1px;--padding-start:1.5rem;--padding-end:1.5rem}[_ngcontent-%COMP%]:root   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start:0.5rem;--padding-end:0.5rem}[_ngcontent-%COMP%]:root   ion-alert[_ngcontent-%COMP%]{--max-width:calc(100% - 32px)}[_ngcontent-%COMP%]:root   page-exchange[_ngcontent-%COMP%]   .button-small[_ngcontent-%COMP%]{--padding-start:0;--padding-end:0;margin:0}[_ngcontent-%COMP%]:root   ion-split-pane[_ngcontent-%COMP%]{--side-max-width:10vw}.ion-color-white[_ngcontent-%COMP%]{--ion-color-base:#fff;--ion-color-base-rgb:255,255,255;--ion-color-contrast:#000;--ion-color-contrast-rgb:0,0,0;--ion-color-shade:#e0e0e0;--ion-color-tint:#fff}.ion-color-black[_ngcontent-%COMP%]{--ion-color-base:#000;--ion-color-base-rgb:0,0,0;--ion-color-contrast:#000;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}.ion-color-whiteLight[_ngcontent-%COMP%]{--ion-color-base:#311b58;--ion-color-base-rgb:49,27,88;--ion-color-contrast:#fff;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#2b184d;--ion-color-tint:#463269}.ion-color-blackLight[_ngcontent-%COMP%]{--ion-color-base:#0000008a;--ion-color-base-rgb:49,27,88;--ion-color-contrast:#fff;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}.ion-color-grayLight[_ngcontent-%COMP%]{--ion-color-base:#f4f4f4;--ion-color-base-rgb:0,0,0;--ion-color-contrast:#000;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}ion-avatar[_ngcontent-%COMP%]{min-width:48px;min-height:48px}page-account-address[_ngcontent-%COMP%]   identicon[_ngcontent-%COMP%], page-account-address[_ngcontent-%COMP%]   identicon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], page-account-address[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:64px;height:64px}portfolio-item[_ngcontent-%COMP%]   div[slot=end][_ngcontent-%COMP%]{margin-inline-start:8px}page-portfolio[_ngcontent-%COMP%]   portfolio-item[_ngcontent-%COMP%]   div[slot=end][_ngcontent-%COMP%]{margin-inline-end:0}.item__image[slot=start][_ngcontent-%COMP%]{margin:8px 16px 8px 0}ion-content[_ngcontent-%COMP%]{--background:none #0000}.transparent[_ngcontent-%COMP%]{background:none!important}p[_ngcontent-%COMP%]{background:var(--ion-color-primary)}.row--height__100[_ngcontent-%COMP%]{height:calc(100% - 48px)}.row--height__100[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:45vh}.guides--container[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}.guides--container[_ngcontent-%COMP%]   .guides--container__img[_ngcontent-%COMP%]{width:60%;max-width:400px;margin-top:3em;max-height:50%}ion-grid[_ngcontent-%COMP%]{height:100%}"]}),t})()},fOEu:function(t,e,o){"use strict";o.d(e,"a",function(){return nt});var n=o("mrSG"),i=o("jtHE"),c=o("Cfvw"),a=o("cp0P"),r=o("onrW"),s=o("57MG"),l=o("1y+R"),d=o("nxqh"),b=o("hPkG"),h=o("kB5k"),u=o.n(h),g=o("7pxb"),p=o("lJxs"),m=o("fXoL"),f=o("tyNb"),S=o("138U"),v=o("TEn/"),C=o("ofXK"),w=o("SxV6"),y=o("sYmb"),O=o("1UBK");function P(t,e){if(1&t&&(m.Sb(0,"p",5),m.yc(1),m.dc(2,"translate"),m.dc(3,"groupLabel"),m.dc(4,"async"),m.Rb()),2&t){const t=m.cc(2);m.Cb(1),m.Ac(" ",m.ec(2,1,m.ec(3,3,m.ec(4,5,t.currentGroup$)))," ")}}function x(t,e){if(1&t&&(m.Sb(0,"ion-select-option",8),m.Sb(1,"ion-text"),m.yc(2),m.dc(3,"translate"),m.dc(4,"groupLabel"),m.Rb(),m.Rb()),2&t){const t=e.$implicit;m.ic("value",t),m.Cb(2),m.Ac(" ",m.ec(3,2,m.ec(4,4,t))," ")}}function _(t,e){if(1&t){const t=m.Tb();m.Sb(0,"ion-select",6),m.ac("ionChange",function(e){return m.qc(t),m.cc(2).onChange(e)}),m.dc(1,"async"),m.wc(2,x,5,6,"ion-select-option",7),m.dc(3,"async"),m.Rb()}if(2&t){const t=m.cc(2);m.ic("value",m.ec(1,2,t.currentGroup$)),m.Cb(2),m.ic("ngForOf",m.ec(3,4,t.groups$))}}function R(t,e){if(1&t&&(m.Sb(0,"ion-item",1),m.Sb(1,"ion-text",2),m.yc(2),m.dc(3,"translate"),m.Rb(),m.wc(4,P,5,7,"p",3),m.dc(5,"async"),m.dc(6,"async"),m.wc(7,_,4,6,"ion-select",4),m.dc(8,"async"),m.dc(9,"async"),m.Rb()),2&t){const t=m.cc();m.Cb(2),m.zc(m.ec(3,3,"current-wallet-group.label")),m.Cb(2),m.ic("ngIf",m.ec(5,5,t.groups$)&&1===m.ec(6,7,t.groups$).length),m.Cb(3),m.ic("ngIf",m.ec(8,9,t.groups$)&&m.ec(9,11,t.groups$).length>1)}}let T=(()=>{class t{constructor(t){this.accountProvider=t,this.groups$=this.accountProvider.getWalletGroupsObservable().pipe(Object(p.a)(t=>{const e=t.filter(t=>t.status===g.AirGapWalletStatus.ACTIVE);return e.length>1?["all",...e]:e})),this.currentGroup$=this.accountProvider.getActiveWalletGroupObservable()}onChange(t){return Object(n.a)(this,void 0,void 0,function*(){const e=t.detail.value,o=yield this.currentGroup$.pipe(Object(w.a)()).toPromise();this.accountProvider.isSameGroup(e,o)||this.accountProvider.setActiveGroup(e)})}}return t.\u0275fac=function(e){return new(e||t)(m.Nb(s.a))},t.\u0275cmp=m.Hb({type:t,selectors:[["current-wallet-group"]],decls:3,vars:5,consts:[["lines","none","button","true","detail","false",4,"ngIf"],["lines","none","button","true","detail","false"],["slot","start","color","medium"],["slot","end",4,"ngIf"],["slot","end","interface","popover",3,"value","ionChange",4,"ngIf"],["slot","end"],["slot","end","interface","popover",3,"value","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(m.wc(0,R,10,13,"ion-item",0),m.dc(1,"async"),m.dc(2,"async")),2&t&&m.ic("ngIf",m.ec(1,1,e.groups$)&&m.ec(2,3,e.groups$).length>0)},directives:[C.o,v.A,v.eb,v.U,v.ub,C.n,v.V],pipes:[C.b,y.c,O.a],styles:[""]}),t})();var E=o("wd/R"),A=o("itXk"),M=o("wEhd"),I=o("xnpP"),k=o("DUVq"),N=o("RKiA"),W=o("/uUt"),F=o("LPYB");const j=["baseChart"];function L(t,e){1&t&&(m.Sb(0,"span"),m.yc(1,"+"),m.Rb())}let D=(()=>{class t{constructor(t,e,o){this.drawChartProvider=t,this.marketDataProvider=e,this.accountProvider=o,this.timeInterval=M.TimeInterval,this.currentTimeInterval=void 0,this.chartType="line",this.chartLabels=[],this.chartOptions={},this.chartColors=[],this.chartDatasets=[{data:[],label:"Price"}]}ngOnInit(){this.chartOptions={layout:{padding:{left:0,right:0,top:0,bottom:0}},animation:{duration:1250},hover:{animationDuration:250},responsiveAnimationDuration:0,legend:{display:!1},responsive:!0,scaleFontColor:"white",type:"line",scales:{yAxes:[{display:!1,gridLines:{display:!1}}],xAxes:[{display:!1,gridLines:{display:!1}}]},elements:{point:{radius:1},line:{tension:0}},tooltips:{mode:"x-axis",intersect:!1,displayColors:!1,callbacks:{title:function(t){return E.unix(t[0].label).format("DD.MM.YYYY")},label:function(t){return Number(t.value)%1!=0?`$${parseFloat(t.value).toFixed(2)}`:t.value}}},annotation:{annotations:[{type:"line",mode:"vertical",scaleID:"x-axis-0",borderColor:"orange",borderWidth:2,label:{enabled:!0,fontColor:"orange",content:"LineAnno"}}]}},this.subscription=Object(A.a)([this.drawChartProvider.getChartObservable(),this.accountProvider.wallets$.asObservable()]).pipe(Object(W.a)()).subscribe(([t,e])=>Object(n.a)(this,void 0,void 0,function*(){var o;this.activeWallets=null!==(o=e.filter(t=>t.status===N.AirGapWalletStatus.ACTIVE&&t.protocol.identifier!==N.SubProtocolSymbols.XTZ_USD&&t.protocol.options.network.type===N.NetworkType.MAINNET))&&void 0!==o?o:[],this.drawChart(t)}))}drawChart(t){return Object(n.a)(this,void 0,void 0,function*(){this.chartLabels=[],this.chartDatasets=[{data:[],label:"$"}],this.currentTimeInterval=t,this.marketDataProvider.fetchAllValues(this.currentTimeInterval,this.activeWallets).then(t=>Object(n.a)(this,void 0,void 0,function*(){this.chartDatasets[0].data=t.map(t=>t.usdValue);for(const e of t)this.chartLabels.push(e.timestamp.toString());this.percentageChange=this.displayPercentageChange(t.map(t=>t.usdValue))}))})}setLabel24h(){this.currentTimeInterval=M.TimeInterval.HOURS}displayPercentageChange(t){const e=t.find(t=>t>0);if(void 0!==e){const o=t.slice(-1)[0];return Number(parseFloat(String(Math.round((o-e)/e*100*100)/100)).toFixed(2))}return 0}ngAfterViewInit(){if(this.chartDatasets=[{data:[],label:"$"}],this.chartLabels=[],this.chart){const t=this.chart.ctx,e="26E8CD",o=t.createLinearGradient(0,10,0,0);o.addColorStop(0,`#${e}`);const n=t.createLinearGradient(0,100,0,0);n.addColorStop(1,"rgba(38,232,205,0.34)"),n.addColorStop(0,"rgba(38,232,205,0.04) "),this.chartColors[0]={backgroundColor:n,borderColor:o,pointBackgroundColor:o,pointBorderColor:o,pointHoverBackgroundColor:o,pointHoverBorderColor:o}}}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Nb(I.a),m.Nb(k.a),m.Nb(s.a))},t.\u0275cmp=m.Hb({type:t,selectors:[["chart"]],viewQuery:function(t,e){if(1&t&&m.Ec(j,3),2&t){let t;m.oc(t=m.bc())&&(e.chart=t.first)}},inputs:{total:"total"},decls:20,vars:16,consts:[[1,"ion-padding-horizontal","ion-align-items-end","ion-justify-content-center"],[1,"ion-no-margin"],[3,"color"],[4,"ngIf"],["baseChart","","width","700","height","200px",3,"chartType","datasets","labels","colors","options","legend"],["baseChart","base-chart"],[1,"ion-padding-horizontal","ion-padding-bottom","ion-align-items-end","ion-justify-content-center"],["size","small","fill","clear",3,"color","click"]],template:function(t,e){1&t&&(m.Sb(0,"ion-row",0),m.Sb(1,"h1",1),m.yc(2),m.dc(3,"number"),m.Rb(),m.Rb(),m.Sb(4,"ion-row",0),m.Sb(5,"ion-text",2),m.Sb(6,"small"),m.wc(7,L,2,0,"span",3),m.Sb(8,"span"),m.yc(9),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(10,"div"),m.Ob(11,"canvas",4,5),m.Rb(),m.Sb(13,"ion-row",6),m.Sb(14,"ion-button",7),m.ac("click",function(){return e.drawChart(e.timeInterval.HOURS)}),m.yc(15," 24h "),m.Rb(),m.Sb(16,"ion-button",7),m.ac("click",function(){return e.drawChart(e.timeInterval.DAYS)}),m.yc(17," 7d "),m.Rb(),m.Sb(18,"ion-button",7),m.ac("click",function(){return e.drawChart(e.timeInterval.MONTH)}),m.yc(19," 30d "),m.Rb(),m.Rb()),2&t&&(m.Cb(2),m.Ac("$",m.fc(3,13,e.total,"1.2-2"),""),m.Cb(3),m.ic("color",e.percentageChange>=0?"primary":"danger"),m.Cb(2),m.ic("ngIf",e.percentageChange>=0),m.Cb(2),m.Ac("",e.percentageChange,"%"),m.Cb(2),m.ic("chartType",e.chartType)("datasets",e.chartDatasets)("labels",e.chartLabels)("colors",e.chartColors)("options",e.chartOptions)("legend",!1),m.Cb(3),m.ic("color",e.currentTimeInterval!==e.timeInterval.HOURS&&e.chartDatasets[0].data.length>0?"primary":"secondary"),m.Cb(2),m.ic("color",e.currentTimeInterval!==e.timeInterval.DAYS&&e.chartDatasets[0].data.length>0?"primary":"secondary"),m.Cb(2),m.ic("color",e.currentTimeInterval!==e.timeInterval.MONTH&&e.chartDatasets[0].data.length>0?"primary":"secondary"))},directives:[v.Q,v.eb,C.o,F.a,v.i],pipes:[C.f],encapsulation:2}),t})();var B=o("F07p"),G=o("1Mpf");function H(t,e){if(1&t&&m.Ob(0,"chart",11),2&t){const t=m.cc(2);m.ic("total",t.total)}}function z(t,e){if(1&t&&(m.Qb(0),m.wc(1,H,1,1,"chart",10),m.Pb()),2&t){const t=e.ngIf;m.Cb(1),m.ic("ngIf",t.length>0)}}function $(t,e){if(1&t){const t=m.Tb();m.Sb(0,"portfolio-item",17),m.ac("click",function(){m.qc(t);const e=m.cc().$implicit;return m.cc(3).openDetail(e.mainWallet)}),m.Rb()}if(2&t){const t=m.cc().$implicit;m.ic("wallet",t.mainWallet)}}function q(t,e){if(1&t){const t=m.Tb();m.Sb(0,"portfolio-item",18),m.ac("click",function(){m.qc(t);const o=e.$implicit,n=m.cc().$implicit;return m.cc(3).openDetail(n.mainWallet,o)}),m.Rb()}2&t&&m.ic("wallet",e.$implicit)}function U(t,e){if(1&t&&(m.Sb(0,"ion-list",14),m.Sb(1,"ion-card"),m.wc(2,$,1,1,"portfolio-item",15),m.wc(3,q,1,1,"portfolio-item",16),m.Rb(),m.Rb()),2&t){const t=e.$implicit;m.Cb(2),m.ic("ngIf",t.mainWallet),m.Cb(1),m.ic("ngForOf",t.subWallets)}}function V(t,e){if(1&t&&(m.Qb(0),m.wc(1,U,4,2,"ion-list",13),m.Pb()),2&t){const t=m.cc().ngIf;m.Cb(1),m.ic("ngForOf",t)}}function Q(t,e){1&t&&(m.Ob(0,"empty-state",20),m.dc(1,"translate")),2&t&&m.ic("text",m.ec(1,3,"portfolio.empty-state_desktop_text"))("imageName","signer-vault-ledger-desktop.svg")("fullHeight",!0)}function X(t,e){1&t&&(m.Ob(0,"empty-state",20),m.dc(1,"translate")),2&t&&m.ic("text",m.ec(1,3,"portfolio.empty-state_text"))("imageName","sync_wallet_onboarding_1.svg")("fullHeight",!0)}function Y(t,e){if(1&t&&(m.wc(0,Q,2,5,"empty-state",19),m.wc(1,X,2,5,"empty-state",19)),2&t){const t=m.cc(2);m.ic("ngIf",t.isDesktop),m.Cb(1),m.ic("ngIf",!t.isDesktop)}}function K(t,e){if(1&t&&(m.Qb(0),m.wc(1,V,2,1,"ng-container",7),m.wc(2,Y,2,2,"ng-template",null,12,m.xc),m.Pb()),2&t){const t=e.ngIf,o=m.pc(3);m.Cb(1),m.ic("ngIf",t.length)("ngIfElse",o)}}function Z(t,e){1&t&&(m.Sb(0,"ion-list",21),m.Sb(1,"ion-card"),m.Ob(2,"portfolio-item"),m.Rb(),m.Sb(3,"ion-card"),m.Ob(4,"portfolio-item"),m.Rb(),m.Sb(5,"ion-card"),m.Ob(6,"portfolio-item"),m.Rb(),m.Sb(7,"ion-card"),m.Ob(8,"portfolio-item"),m.Rb(),m.Rb())}function J(t,e){if(1&t){const t=m.Tb();m.Sb(0,"ion-fab-button",24),m.ac("click",function(){return m.qc(t),m.cc(2).openAccountAddPage()}),m.Ob(1,"ion-icon",25),m.Rb()}}function tt(t,e){if(1&t){const t=m.Tb();m.Sb(0,"ion-button",26),m.ac("click",function(){return m.qc(t),m.cc(2).openAccountAddPage()}),m.Ob(1,"ion-icon",27),m.yc(2),m.dc(3,"translate"),m.Rb()}2&t&&(m.Cb(2),m.Ac(" ",m.ec(3,1,"portfolio.add-coins_label")," "))}function et(t,e){if(1&t&&(m.Qb(0),m.wc(1,J,2,0,"ion-fab-button",22),m.wc(2,tt,4,3,"ion-button",23),m.Pb()),2&t){const t=e.ngIf;m.Cb(1),m.ic("ngIf",t.length>0),m.Cb(1),m.ic("ngIf",0===t.length)}}const ot=function(t){return{status:t}};let nt=(()=>{class t{constructor(t,e,o,n,c){this.router=t,this.walletsProvider=e,this.operationsProvider=o,this.protocolService=n,this.platform=c,this.isVisible="hidden",this.total=0,this.changePercentage=0,this.walletGroups=new i.a(1),this.isDesktop=!1,this.AirGapWalletStatus=g.AirGapWalletStatus,this.isDesktop=!this.platform.is("hybrid"),this.wallets=this.walletsProvider.wallets$.asObservable(),this.activeWallets=this.wallets.pipe(Object(p.a)(t=>{var e;return null!==(e=t.filter(t=>t.status===g.AirGapWalletStatus.ACTIVE))&&void 0!==e?e:[]})),this.wallets.subscribe(t=>{this.calculateTotal(t),this.refreshWalletGroups(t)}),this.walletsProvider.walletChangedObservable.subscribe(()=>{this.calculateTotal(this.walletsProvider.getWalletList())})}refreshWalletGroups(t){const e=[],o=new Map;t.filter(t=>t.status===g.AirGapWalletStatus.ACTIVE).forEach(t=>{const e=t.protocol.isSubProtocol,n=e?t.protocol.identifier.split("-")[0]:t.protocol.identifier,i=`${t.publicKey}_${n}`;if(o.has(i)){const n=o.get(i);e?n.subWallets.push(t):n.mainWallet=t}else o.set(i,e?{mainWallet:void 0,subWallets:[t]}:{mainWallet:t,subWallets:[]})}),o.forEach(t=>{e.push(t)}),e.sort((t,e)=>t.mainWallet&&e.mainWallet?t.mainWallet.protocol.symbol.localeCompare(e.mainWallet.protocol.symbol):t.mainWallet?-1:e.mainWallet?1:0),setTimeout(()=>{this.walletGroups.next(e)},500)}ionViewDidEnter(){this.doRefresh().catch(Object(b.b)())}openDetail(t,e){const o=e?{mainWallet:t,wallet:e}:{wallet:t};this.router.navigateByUrl(`/account-transaction-list/${l.b.ACCOUNTS}/${o.wallet.publicKey}/${o.wallet.protocol.identifier}/${o.wallet.addressIndex}`).catch(console.error)}openAccountAddPage(){this.router.navigateByUrl("/account-add").catch(Object(b.b)(b.a.NAVIGATION))}doRefresh(t=null){return Object(n.a)(this,void 0,void 0,function*(){this.operationsProvider.refreshAllDelegationStatuses(this.walletsProvider.getWalletList());const e=[this.walletsProvider.getWalletList().map(t=>Object(c.a)(t.synchronize()))],o=Object(a.a)([e]);this.subscription=o.subscribe(()=>{this.calculateTotal(this.walletsProvider.getWalletList(),t?t.target:null)})})}calculateTotal(t,e=null){return Object(n.a)(this,void 0,void 0,function*(){const o=new r.a(this.protocolService);t=t.filter(t=>t.status===g.AirGapWalletStatus.ACTIVE),this.total=(yield Promise.all(t.map(t=>o.transform(t.currentBalance,{protocolIdentifier:t.protocol.identifier,currentMarketPrice:t.currentMarketPrice})))).reduce((t,e)=>t.plus(e),new u.a(0)).toNumber(),e&&e.complete(),this.isVisible="visible"})}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Nb(f.g),m.Nb(s.a),m.Nb(d.a),m.Nb(S.x),m.Nb(v.qb))},t.\u0275cmp=m.Hb({type:t,selectors:[["page-portfolio"]],decls:20,vars:15,consts:[[1,"ion-no-border"],["color","translucent"],["slot","start"],["fullscreen","true"],["fixed","true",1,"ion-no-padding"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],[4,"ngIf","ngIfElse"],["loading",""],["vertical","bottom","horizontal","end","slot","fixed"],[3,"total",4,"ngIf"],[3,"total"],["noItems",""],["class","walletGroups ion-no-padding","lines","none",4,"ngFor","ngForOf"],["lines","none",1,"walletGroups","ion-no-padding"],["class","mainWallet","tappable","",3,"wallet","click",4,"ngIf"],["tappable","",3,"wallet","click",4,"ngFor","ngForOf"],["tappable","",1,"mainWallet",3,"wallet","click"],["tappable","",3,"wallet","click"],[3,"text","imageName","fullHeight",4,"ngIf"],[3,"text","imageName","fullHeight"],["lines","none",1,"ion-margin-top"],["id","add-more-coins-button","color","secondary",3,"click",4,"ngIf"],["id","add-initial-coin-button","color","secondary","shape","round",3,"click",4,"ngIf"],["id","add-more-coins-button","color","secondary",3,"click"],["name","add"],["id","add-initial-coin-button","color","secondary","shape","round",3,"click"],["slot","start","name","add"]],template:function(t,e){if(1&t&&(m.Sb(0,"ion-header",0),m.Sb(1,"ion-toolbar",1),m.Sb(2,"ion-buttons",2),m.Ob(3,"ion-menu-button"),m.Rb(),m.Rb(),m.Rb(),m.Sb(4,"ion-content",3),m.Sb(5,"ion-grid",4),m.wc(6,z,2,1,"ng-container",5),m.dc(7,"async"),m.Sb(8,"ion-toolbar",1),m.Ob(9,"current-wallet-group"),m.Rb(),m.Sb(10,"ion-refresher",6),m.ac("ionRefresh",function(t){return e.doRefresh(t)}),m.Ob(11,"ion-refresher-content"),m.Rb(),m.wc(12,K,4,2,"ng-container",7),m.dc(13,"async"),m.wc(14,Z,9,0,"ng-template",null,8,m.xc),m.Rb(),m.Sb(16,"ion-fab",9),m.wc(17,et,3,2,"ng-container",5),m.dc(18,"walletFilter"),m.dc(19,"async"),m.Rb(),m.Rb()),2&t){const t=m.pc(15);m.Cb(6),m.ic("ngIf",m.ec(7,4,e.activeWallets)),m.Cb(6),m.ic("ngIf",m.ec(13,6,e.walletGroups))("ngIfElse",t),m.Cb(5),m.ic("ngIf",m.fc(18,8,m.ec(19,11,e.wallets),m.mc(13,ot,e.AirGapWalletStatus.ACTIVE)))}},directives:[v.v,v.ib,v.j,v.H,v.q,v.u,C.o,T,v.N,v.O,v.r,D,C.n,v.E,v.k,B.a,G.a,v.s,v.w,v.i],pipes:[C.b,S.M,y.c],styles:[".loading-header[_ngcontent-%COMP%]{color:#fff;font-weight:300;width:100%;text-align:center}.loading-header[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:28px;height:28px;stroke:#fff!important}.loading-content[_ngcontent-%COMP%]{color:#fff;font-weight:300;width:100%;margin-top:20vh;text-align:center}.loading-content[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:28px;height:28px}.sc-ion-card-ios-h[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]{padding:4px 0;margin-bottom:16px;margin-top:0}.sc-ion-card-ios-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:inherit}.sc-ion-card-ios-h[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding-bottom:4px}.list-ios[_ngcontent-%COMP%]{margin:0}ion-card[_ngcontent-%COMP%]{margin:0 8px 16px}.container__empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30vh}.content-ios[_ngcontent-%COMP%]   ion-fab[bottom][_ngcontent-%COMP%]{bottom:10px}.portfolio--hero[_ngcontent-%COMP%]{background:url(/assets/img/portfolio-lines.svg) no-repeat;height:25vh;background-position:bottom}.portfolio--hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:48px;font-weight:700}"]}),t})()},ipgs:function(t,e,o){"use strict";o.d(e,"a",function(){return f});var n=o("mrSG"),i=o("138U"),c=o("gcOT"),a=o("Bpmc"),r=o("jysE"),s=o("wTY4"),l=o("hPkG"),d=o("xWVS"),b=o("fXoL"),h=o("TEn/"),u=o("tyNb"),g=o("ofXK"),p=o("sYmb");function m(t,e){if(1&t){const t=b.Tb();b.Sb(0,"ion-item",5),b.ac("click",function(){return b.qc(t),b.cc().about()}),b.Ob(1,"ion-icon",14),b.yc(2),b.dc(3,"translate"),b.Rb()}2&t&&(b.Cb(2),b.Ac(" ",b.ec(3,1,"settings.about_label")," "))}let f=(()=>{class t{constructor(t,e,o,n,i,a,r,s){this.alertCtrl=t,this.serializerService=e,this.router=o,this.modalController=n,this.clipboardProvider=i,this.iacService=a,this.browserService=r,this.sharePlugin=s,this.platform=c.a.getPlatform()}about(){this.navigate("/about")}dappPermissions(){this.navigate("/dapp-permission-list")}dappSettings(){this.navigate("/dapp-settings")}share(){this.sharePlugin.share({title:"Check out AirGap Wallet",text:"Take a look at this app I found. It's the most secure way to do crypto transactions.",url:"https://www.airgap.it",dialogTitle:"Pick an app"}).then(t=>{console.log(`Share completed: ${t}`)}).catch(t=>{console.log("Sharing failed with error: "+t)})}introduction(){return Object(n.a)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:d.a});t.dismiss(()=>Object(n.a)(this,void 0,void 0,function*(){})).catch(Object(l.b)(l.a.IONIC_MODAL)),t.present().catch(Object(l.b)(l.a.IONIC_MODAL))})}feedback(){this.browserService.openUrl("https://github.com/airgap-it/airgap-wallet/issues")}discord(){return Object(n.a)(this,void 0,void 0,function*(){this.browserService.openUrl("https://discord.gg/gnWqCQsteh")})}translate(){this.browserService.openUrl("https://translate.sook.ch/")}githubDistro(){this.browserService.openUrl("https://github.com/airgap-it/airgap-distro")}githubWebSigner(){this.browserService.openUrl("https://github.com/airgap-it/airgap-web-signer")}githubWallet(){this.browserService.openUrl("https://github.com/airgap-it")}faq(){this.browserService.openUrl("https://support.airgap.it")}aboutBeacon(){this.browserService.openUrl("https://walletbeacon.io")}goToQrSettings(){this.navigate("/qr-settings")}goToHealthCheck(){this.navigate("/health-check")}navigate(t){this.router.navigateByUrl(t,{replaceUrl:!0}).catch(Object(l.b)(l.a.NAVIGATION))}pasteClipboard(){this.clipboardProvider.paste().then(t=>{this.iacService.handleRequest(t,i.p.PASTE).catch(t=>console.error(t))},t=>{console.error("Error: "+t)})}}return t.\u0275fac=function(e){return new(e||t)(b.Nb(h.a),b.Nb(i.D),b.Nb(u.g),b.Nb(h.mb),b.Nb(i.k),b.Nb(s.a),b.Nb(r.a),b.Nb(a.d))},t.\u0275cmp=b.Hb({type:t,selectors:[["page-settings"]],decls:75,vars:49,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["lines","none"],["lines","none",1,"ion-no-margin"],["detail","true",3,"click"],["name","bulb-outline","slot","start"],["name","help-circle-outline","slot","start"],["name","chatbubbles-outline","slot","start"],["name","share-outline","slot","start"],["name","logo-github","slot","start"],["detail","true",3,"click",4,"ngIf"],["name","pulse-outline","slot","start"],["src","assets/img/beacon_logo_black.svg","slot","start"],["name","information-circle-outline","slot","start"],[3,"click"],["name","return-up-forward-outline","slot","start"],["name","qr-code-outline","slot","start"]],template:function(t,e){1&t&&(b.Sb(0,"ion-header",0),b.Sb(1,"ion-grid",1),b.Sb(2,"ion-toolbar"),b.Sb(3,"ion-buttons",2),b.Ob(4,"ion-menu-button"),b.Rb(),b.Sb(5,"ion-title"),b.yc(6),b.dc(7,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(8,"ion-content"),b.Sb(9,"ion-grid",1),b.Sb(10,"ion-list",3),b.Sb(11,"ion-list-header",4),b.Sb(12,"ion-label"),b.yc(13),b.dc(14,"translate"),b.Rb(),b.Rb(),b.Sb(15,"ion-item",5),b.ac("click",function(){return e.introduction()}),b.Ob(16,"ion-icon",6),b.yc(17),b.dc(18,"translate"),b.Rb(),b.Sb(19,"ion-item",5),b.ac("click",function(){return e.faq()}),b.Ob(20,"ion-icon",7),b.yc(21),b.dc(22,"translate"),b.Rb(),b.Sb(23,"ion-item",5),b.ac("click",function(){return e.discord()}),b.Ob(24,"ion-icon",8),b.yc(25),b.dc(26,"translate"),b.Rb(),b.Sb(27,"ion-item",5),b.ac("click",function(){return e.share()}),b.Ob(28,"ion-icon",9),b.yc(29),b.dc(30,"translate"),b.Rb(),b.Rb(),b.Sb(31,"ion-list",3),b.Sb(32,"ion-list-header",4),b.Sb(33,"ion-label"),b.yc(34),b.dc(35,"translate"),b.Rb(),b.Rb(),b.Sb(36,"ion-item",5),b.ac("click",function(){return e.githubWallet()}),b.Ob(37,"ion-icon",10),b.yc(38),b.dc(39,"translate"),b.Rb(),b.wc(40,m,4,3,"ion-item",11),b.Sb(41,"ion-item",5),b.ac("click",function(){return e.goToHealthCheck()}),b.Ob(42,"ion-icon",12),b.yc(43),b.dc(44,"translate"),b.Rb(),b.Rb(),b.Sb(45,"ion-list",3),b.Sb(46,"ion-list-header",4),b.Sb(47,"ion-label"),b.yc(48),b.dc(49,"translate"),b.Rb(),b.Rb(),b.Sb(50,"ion-item",5),b.ac("click",function(){return e.dappPermissions()}),b.Ob(51,"ion-icon",13),b.yc(52),b.dc(53,"translate"),b.Rb(),b.Sb(54,"ion-item",5),b.ac("click",function(){return e.dappSettings()}),b.Ob(55,"ion-icon",13),b.yc(56),b.dc(57,"translate"),b.Rb(),b.Sb(58,"ion-item",5),b.ac("click",function(){return e.aboutBeacon()}),b.Ob(59,"ion-icon",14),b.yc(60),b.dc(61,"translate"),b.Rb(),b.Rb(),b.Sb(62,"ion-list",3),b.Sb(63,"ion-list-header",4),b.Sb(64,"ion-label"),b.yc(65),b.dc(66,"translate"),b.Rb(),b.Rb(),b.Sb(67,"ion-item",15),b.ac("click",function(){return e.pasteClipboard()}),b.Ob(68,"ion-icon",16),b.yc(69),b.dc(70,"translate"),b.Rb(),b.Sb(71,"ion-item",15),b.ac("click",function(){return e.goToQrSettings()}),b.Ob(72,"ion-icon",17),b.yc(73),b.dc(74,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Cb(6),b.zc(b.ec(7,17,"settings.title")),b.Cb(7),b.zc(b.ec(14,19,"settings.help_label")),b.Cb(4),b.Ac(" ",b.ec(18,21,"settings.introduction_label")," "),b.Cb(4),b.Ac(" ",b.ec(22,23,"settings.faq_label")," "),b.Cb(4),b.Ac(" ",b.ec(26,25,"settings.discord_label")," "),b.Cb(4),b.Ac(" ",b.ec(30,27,"settings.share_label")," "),b.Cb(5),b.zc(b.ec(35,29,"settings.information_label")),b.Cb(4),b.Ac(" ",b.ec(39,31,"settings.github_label")," "),b.Cb(2),b.ic("ngIf","web"!==e.platform),b.Cb(3),b.Ac(" ",b.ec(44,33,"settings.health-check")," "),b.Cb(5),b.zc(b.ec(49,35,"settings.dapp.label")),b.Cb(4),b.Ac(" ",b.ec(53,37,"settings.dapp.permission-list_label")," "),b.Cb(4),b.Ac(" ",b.ec(57,39,"settings.dapp.settings_label")," "),b.Cb(4),b.Ac(" ",b.ec(61,41,"settings.dapp.about_label")," "),b.Cb(5),b.zc(b.ec(66,43,"settings.qr.settings_label")),b.Cb(4),b.Ac(" ",b.ec(70,45,"settings.paste-from-clipboard_label")," "),b.Cb(4),b.Ac(" ",b.ec(74,47,"settings.qr-advanced-settings_label")," "))},directives:[h.v,h.u,h.ib,h.j,h.H,h.gb,h.q,h.E,h.F,h.D,h.A,h.w,g.o],pipes:[p.c],encapsulation:2}),t})()},lkre:function(t,e,o){"use strict";o.d(e,"a",function(){return d});var n=o("hPkG"),i=o("fXoL"),c=o("TEn/"),a=o("sYmb"),r=o("ofXK");function s(t,e){1&t&&(i.Sb(0,"h5"),i.yc(1),i.dc(2,"translate"),i.Rb()),2&t&&(i.Cb(1),i.zc(i.ec(2,1,"introduction-download.text")))}function l(t,e){if(1&t){const t=i.Tb();i.Qb(0),i.Sb(1,"ion-button",15),i.ac("click",function(){return i.qc(t),i.cc().downloadAndroid()}),i.Ob(2,"ion-icon",16),i.yc(3),i.dc(4,"translate"),i.Rb(),i.Sb(5,"p",9),i.yc(6),i.dc(7,"translate"),i.Rb(),i.Sb(8,"ion-button",17),i.ac("click",function(){return i.qc(t),i.cc().downloadDistribution()}),i.Ob(9,"ion-icon",18),i.yc(10),i.dc(11,"translate"),i.Rb(),i.Sb(12,"p"),i.yc(13),i.dc(14,"translate"),i.Rb(),i.Pb()}if(2&t){const t=i.cc();i.Cb(3),i.Ac(" ",i.ec(4,4,"introduction-download.android")," "),i.Cb(3),i.Ac(" ",i.ec(7,6,"introduction-download."+t.playStoreText)," "),i.Cb(4),i.Ac(" ",i.ec(11,8,"introduction-download.linux-distro_label")," "),i.Cb(3),i.zc(i.ec(14,10,"introduction-download.install-distro_text"))}}let d=(()=>{class t{constructor(t,e,o){this.platform=t,this.viewController=e,this.translateService=o,this.appStoreText="android-device-iOS_text",this.playStoreText="iOS-device-android_text",this.isIOS=!0,this.isIOS=this.platform.is("ios"),this.translateService.currentLang.startsWith("en")?this.platform.is("ios")?(this.appStoreText="iOS-device-iOS_text",this.playStoreText="iOS-device-android_text"):this.platform.is("android")&&(this.appStoreText="android-device-iOS_text",this.playStoreText="android-device-android_text"):(this.appStoreText="app-store_text",this.playStoreText="play-store_text")}dismiss(t=!1){this.viewController.dismiss(t).catch(Object(n.b)(n.a.NAVIGATION))}downloadAndroid(){this.platform.is("android")||this.platform.is("hybrid")?window.open("https://play.google.com/store/apps/details?id=it.airgap.vault","_system"):window.open("https://play.google.com/store/apps/details?id=it.airgap.vault","_blank"),this.dismiss(!0)}downloadIos(){this.platform.is("ios")?window.open("itms-apps://itunes.apple.com/app/id1417126841","_system"):this.platform.is("hybrid")?window.open("https://itunes.apple.com/us/app/airgap-vault-secure-secrets/id1417126841?mt=8","_system"):window.open("https://itunes.apple.com/us/app/airgap-vault-secure-secrets/id1417126841?mt=8","_blank"),this.dismiss(!0)}downloadDistribution(){this.platform.is("hybrid")?window.open("https://github.com/airgap-it/airgap-distro","_system"):window.open("https://github.com/airgap-it/airgap-distro","_blank"),this.dismiss(!0)}openGuide(){this.platform.is("hybrid")?window.open("https://medium.com/airgap-it/airgap-the-step-by-step-guide-c4c3d3fe9a05","_system"):window.open("https://medium.com/airgap-it/airgap-the-step-by-step-guide-c4c3d3fe9a05","_blank"),this.dismiss(!0)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(c.qb),i.Nb(c.mb),i.Nb(a.d))},t.\u0275cmp=i.Hb({type:t,selectors:[["page-introduction-download"]],decls:34,vars:23,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","/"],["slot","end"],["color","secondary",3,"click"],["name","close-outline"],[1,"ion-padding"],["color","primary","shape","round",1,"ion-margin-top",3,"click"],["slot","start","name","open-outline"],[1,"ion-padding-bottom"],[4,"ngIf"],["id","btn-import-secret","color","primary","shape","round",3,"click"],["slot","start","name","phone-portrait-outline"],["vertical","bottom","horizontal","end","slot","fixed"],["shape","round","color","primary",3,"click"],["id","btn-generate-secret","color","primary","shape","round",1,"ion-margin-top",3,"click"],["slot","start","name","logo-android"],["id","btn-recover-secret","color","primary","shape","round",3,"click"],["slot","start","name","desktop-outline"]],template:function(t,e){1&t&&(i.Sb(0,"ion-header",0),i.Sb(1,"ion-toolbar"),i.Sb(2,"ion-buttons",1),i.Ob(3,"ion-back-button",2),i.Rb(),i.Sb(4,"ion-title"),i.yc(5),i.dc(6,"translate"),i.Rb(),i.Sb(7,"ion-buttons",3),i.Sb(8,"ion-button",4),i.ac("click",function(){return e.dismiss()}),i.Ob(9,"ion-icon",5),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(10,"ion-content",6),i.Sb(11,"h1"),i.yc(12),i.dc(13,"translate"),i.Rb(),i.Sb(14,"ion-button",7),i.ac("click",function(){return e.openGuide()}),i.Ob(15,"ion-icon",8),i.yc(16),i.dc(17,"translate"),i.Rb(),i.Sb(18,"p",9),i.yc(19),i.dc(20,"translate"),i.Rb(),i.wc(21,s,3,3,"h5",10),i.Sb(22,"ion-button",11),i.ac("click",function(){return e.downloadIos()}),i.Ob(23,"ion-icon",12),i.yc(24),i.dc(25,"translate"),i.Rb(),i.Sb(26,"p"),i.yc(27),i.dc(28,"translate"),i.Rb(),i.wc(29,l,15,12,"ng-container",10),i.Sb(30,"ion-fab",13),i.Sb(31,"ion-button",14),i.ac("click",function(){return e.dismiss()}),i.yc(32),i.dc(33,"translate"),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Cb(5),i.zc(i.ec(6,9,"introduction-download.title")),i.Cb(7),i.zc(i.ec(13,11,"introduction-download.heading")),i.Cb(4),i.Ac(" ",i.ec(17,13,"introduction-download.guide-link_label")," "),i.Cb(3),i.zc(i.ec(20,15,"introduction-download.description")),i.Cb(2),i.ic("ngIf",!e.isIOS),i.Cb(3),i.Ac(" ",i.ec(25,17,"introduction-download.iOS")," "),i.Cb(3),i.zc(i.ec(28,19,"introduction-download."+e.appStoreText)),i.Cb(2),i.ic("ngIf",!e.isIOS),i.Cb(3),i.zc(i.ec(33,21,"introduction-download.go_label")))},directives:[c.v,c.ib,c.j,c.f,c.g,c.gb,c.i,c.w,c.q,r.o,c.r],pipes:[a.c],encapsulation:2}),t})()},qiIP:function(t,e,o){"use strict";o.r(e),o.d(e,"TabsPageModule",function(){return P});var n=o("ofXK"),i=o("3Pt+"),c=o("TEn/"),a=o("sYmb"),r=o("tyNb"),s=o("j1ZV"),l=o("lkre"),d=o("fXoL");let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({imports:[[c.jb,n.c,i.e,s.a,a.b,r.j.forChild([{path:"",component:l.a}])]]}),t})();var h=o("xWVS");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({imports:[[c.jb,n.c,i.e,s.a,a.b,b,r.j.forChild([{path:"",component:h.a}])]]}),t})();var g=o("mrSG"),p=o("hPkG"),m=o("AFs5"),f=o("4HcY"),S=o("fOEu"),v=o("XvSo"),C=o("ipgs");function w(t,e){1&t&&(d.Sb(0,"ion-tab-bar",3),d.Sb(1,"ion-tab-button",4),d.Ob(2,"ion-icon",5),d.Sb(3,"ion-label"),d.yc(4),d.dc(5,"translate"),d.Rb(),d.Rb(),d.Sb(6,"ion-tab-button",6),d.Ob(7,"ion-icon",7),d.Sb(8,"ion-label"),d.yc(9),d.dc(10,"translate"),d.Rb(),d.Rb(),d.Sb(11,"ion-tab-button",8),d.Ob(12,"ion-icon",9),d.Sb(13,"ion-label"),d.yc(14),d.dc(15,"translate"),d.Rb(),d.Rb(),d.Sb(16,"ion-tab-button",10),d.Ob(17,"ion-icon",11),d.Sb(18,"ion-label"),d.yc(19),d.dc(20,"translate"),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.Cb(4),d.zc(d.ec(5,4,"tabs.wallets")),d.Cb(5),d.zc(d.ec(10,6,"tabs.scan")),d.Cb(5),d.zc(d.ec(15,8,"tabs.exchange")),d.Cb(5),d.zc(d.ec(20,10,"tabs.settings")))}const y=[{path:"tabs",component:(()=>{class t{constructor(t,e,o){this.modalController=t,this.storageProvider=e,this.plaftorm=o,this.tab1Root=S.a,this.tab2Root=v.a,this.tab3Root=f.a,this.tab4Root=C.a,this.isMobile=!1,this.showIntroductions().catch(Object(p.b)(p.a.OTHER)),this.isMobile=this.plaftorm.is("mobile")}showIntroductions(){return Object(g.a)(this,void 0,void 0,function*(){(yield this.storageProvider.get(m.a.DEEP_LINK))||(yield this.showWalletIntroduction().catch(console.error))})}showWalletIntroduction(){return Object(g.a)(this,void 0,void 0,function*(){return this.showModal(m.a.WALLET_INTRODUCTION,h.a)})}showModal(t,e){return Object(g.a)(this,void 0,void 0,function*(){return(yield this.storageProvider.get(t))?Promise.resolve():new Promise(o=>Object(g.a)(this,void 0,void 0,function*(){const n=yield this.modalController.create({component:e});n.onDidDismiss().then(()=>Object(g.a)(this,void 0,void 0,function*(){yield this.storageProvider.set(t,!0),o(void 0)})).catch(Object(p.b)(p.a.IONIC_MODAL)),n.present().catch(Object(p.b)(p.a.IONIC_MODAL))}))})}tabChange(t){this.activeTab=t.outlet.activatedView.element}ionViewWillEnter(){this.propagateToActiveTab("ionViewWillEnter")}propagateToActiveTab(t){this.activeTab&&this.activeTab.dispatchEvent(new CustomEvent(t))}}return t.\u0275fac=function(e){return new(e||t)(d.Nb(c.mb),d.Nb(m.b),d.Nb(c.qb))},t.\u0275cmp=d.Hb({type:t,selectors:[["app-tabs"]],decls:3,vars:1,consts:[[3,"ionTabsDidChange"],["tabs",""],["slot","bottom",4,"ngIf"],["slot","bottom"],["tab","portfolio"],["name","list-outline"],["tab","scan"],["name","barcode-outline"],["tab","exchange"],["name","repeat-outline"],["tab","settings"],["name","settings-outline"]],template:function(t,e){if(1&t){const t=d.Tb();d.Sb(0,"ion-tabs",0,1),d.ac("ionTabsDidChange",function(){d.qc(t);const o=d.pc(1);return e.tabChange(o)}),d.wc(2,w,21,12,"ion-tab-bar",2),d.Rb()}2&t&&(d.Cb(2),d.ic("ngIf",e.isMobile))},directives:[c.db,n.o,c.bb,c.cb,c.w,c.D],pipes:[a.c],styles:["ion-tab-button[_ngcontent-%COMP%]{font-weight:500;--color-selected:var(--ion-color-secondary)}"]}),t})(),children:[{path:"portfolio",children:[{path:"",loadChildren:()=>o.e(32).then(o.bind(null,"0rid")).then(t=>t.PortfolioPageModule)}]},{path:"scan",children:[{path:"",loadChildren:()=>o.e(35).then(o.bind(null,"Fo4Z")).then(t=>t.ScanPageModule)}]},{path:"exchange",children:[{path:"",loadChildren:()=>o.e(28).then(o.bind(null,"l1L9")).then(t=>t.ExchangePageModule)}]},{path:"settings",children:[{path:"",loadChildren:()=>o.e(37).then(o.bind(null,"yPrK")).then(t=>t.SettingsPageModule)}]},{path:"",redirectTo:"/tabs/portfolio",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/portfolio",pathMatch:"full"}];let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({imports:[[r.j.forChild(y)],r.j]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({imports:[[c.jb,n.c,i.e,O,a.b,u]]}),t})()},xWVS:function(t,e,o){"use strict";o.d(e,"a",function(){return C});var n=o("mrSG"),i=o("hPkG"),c=o("lkre"),a=o("fXoL"),r=o("TEn/"),s=o("ofXK"),l=o("3Pt+"),d=o("sYmb");function b(t,e){if(1&t){const t=a.Tb();a.Sb(0,"ion-segment",10),a.ac("ngModelChange",function(e){return a.qc(t),a.cc().security=e}),a.Sb(1,"ion-segment-button",11),a.Sb(2,"ion-label"),a.yc(3),a.dc(4,"translate"),a.Rb(),a.Rb(),a.Sb(5,"ion-segment-button",12),a.Sb(6,"ion-label"),a.yc(7),a.dc(8,"translate"),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=a.cc();a.ic("ngModel",t.security),a.Cb(3),a.zc(a.ec(4,3,"introduction.highest.label")),a.Cb(4),a.zc(a.ec(8,5,"introduction.medium.label"))}}function h(t,e){1&t&&(a.Ob(0,"p",17),a.dc(1,"translate")),2&t&&a.ic("innerHTML",a.ec(1,1,"introduction.highest.text"),a.rc)}function u(t,e){1&t&&(a.Ob(0,"p",17),a.dc(1,"translate")),2&t&&a.ic("innerHTML",a.ec(1,1,"introduction.highest.desktop_text"),a.rc)}function g(t,e){1&t&&(a.Sb(0,"ion-col",18),a.Ob(1,"img",19),a.Rb())}function p(t,e){1&t&&(a.Sb(0,"ion-col",18),a.Ob(1,"img",20),a.Rb())}function m(t,e){1&t&&(a.Qb(0),a.Sb(1,"ion-row",21),a.Sb(2,"ion-col",22),a.Ob(3,"img",23),a.Rb(),a.Sb(4,"ion-col",16),a.Sb(5,"strong"),a.yc(6),a.dc(7,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Sb(8,"ion-row",24),a.Sb(9,"ion-col",18),a.Ob(10,"img",25),a.Rb(),a.Sb(11,"ion-col",16),a.Sb(12,"h5"),a.yc(13),a.dc(14,"translate"),a.Rb(),a.Ob(15,"p",17),a.dc(16,"translate"),a.Rb(),a.Rb(),a.Pb()),2&t&&(a.Cb(6),a.zc(a.ec(7,3,"introduction.communication.highest_text")),a.Cb(7),a.zc(a.ec(14,5,"introduction.vault.heading")),a.Cb(2),a.ic("innerHTML",a.ec(16,7,"introduction.vault.text"),a.rc))}function f(t,e){1&t&&(a.Qb(0),a.Sb(1,"ion-row",24),a.Sb(2,"ion-col",18),a.Ob(3,"img",26),a.Rb(),a.Sb(4,"ion-col",16),a.Sb(5,"h5"),a.yc(6),a.dc(7,"translate"),a.Rb(),a.Ob(8,"p",17),a.dc(9,"translate"),a.Rb(),a.Rb(),a.Pb()),2&t&&(a.Cb(6),a.zc(a.ec(7,2,"introduction.vault.desktop_heading")),a.Cb(2),a.ic("innerHTML",a.ec(9,4,"introduction.vault.desktop_text"),a.rc))}function S(t,e){if(1&t&&(a.Qb(0),a.Sb(1,"ion-row"),a.wc(2,h,2,3,"p",13),a.wc(3,u,2,3,"p",13),a.Rb(),a.Sb(4,"ion-row",14),a.wc(5,g,2,0,"ion-col",15),a.wc(6,p,2,0,"ion-col",15),a.Sb(7,"ion-col",16),a.Sb(8,"h5"),a.yc(9),a.dc(10,"translate"),a.Rb(),a.Ob(11,"p",17),a.dc(12,"translate"),a.Rb(),a.Rb(),a.wc(13,m,17,9,"ng-container",6),a.wc(14,f,10,6,"ng-container",6),a.Pb()),2&t){const t=a.cc();a.Cb(2),a.ic("ngIf",!t.isDesktop),a.Cb(1),a.ic("ngIf",t.isDesktop),a.Cb(2),a.ic("ngIf",t.isDesktop),a.Cb(1),a.ic("ngIf",!t.isDesktop),a.Cb(3),a.zc(a.ec(10,8,"introduction.wallet.heading")),a.Cb(2),a.ic("innerHTML",a.ec(12,10,"introduction.wallet.text"),a.rc),a.Cb(2),a.ic("ngIf",!t.isDesktop),a.Cb(1),a.ic("ngIf",t.isDesktop)}}function v(t,e){1&t&&(a.Qb(0),a.Sb(1,"ion-row"),a.Ob(2,"p",17),a.dc(3,"translate"),a.Rb(),a.Sb(4,"ion-row",14),a.Sb(5,"ion-col",18),a.Ob(6,"img",20),a.Rb(),a.Sb(7,"ion-col",16),a.Sb(8,"h5"),a.yc(9),a.dc(10,"translate"),a.Rb(),a.Ob(11,"p",17),a.dc(12,"translate"),a.Rb(),a.Rb(),a.Sb(13,"ion-row",21),a.Sb(14,"ion-col",22),a.Ob(15,"img",27),a.Rb(),a.Sb(16,"ion-col",16),a.Sb(17,"strong"),a.yc(18),a.dc(19,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Sb(20,"ion-row",24),a.Sb(21,"ion-col",18),a.Ob(22,"img",25),a.Rb(),a.Sb(23,"ion-col",16),a.Sb(24,"h5"),a.yc(25),a.dc(26,"translate"),a.Rb(),a.Ob(27,"p",17),a.dc(28,"translate"),a.Rb(),a.Rb(),a.Pb()),2&t&&(a.Cb(2),a.ic("innerHTML",a.ec(3,6,"introduction.medium.text"),a.rc),a.Cb(7),a.zc(a.ec(10,8,"introduction.wallet.heading")),a.Cb(2),a.ic("innerHTML",a.ec(12,10,"introduction.wallet.text"),a.rc),a.Cb(7),a.zc(a.ec(19,12,"introduction.communication.medium_text")),a.Cb(7),a.zc(a.ec(26,14,"introduction.vault.heading")),a.Cb(2),a.ic("innerHTML",a.ec(28,16,"introduction.vault.text"),a.rc))}let C=(()=>{class t{constructor(t,e){this.platform=t,this.modalController=e,this.security="highest",this.isDesktop=!1,this.isDesktop=!this.platform.is("hybrid")}dismiss(){this.modalController.dismiss().catch(Object(i.b)(i.a.NAVIGATION))}openIntroductionDownloadPage(){return Object(n.a)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:c.a});t.dismiss(t=>{t&&this.dismiss()}),t.present().catch(Object(i.b)(i.a.IONIC_MODAL))})}}return t.\u0275fac=function(e){return new(e||t)(a.Nb(r.qb),a.Nb(r.mb))},t.\u0275cmp=a.Hb({type:t,selectors:[["page-introduction"]],decls:19,vars:12,consts:[[1,"ion-no-border"],["slot","end"],["color","secondary",3,"click"],["name","close-outline"],["forceOverflow","false",1,"ion-padding"],["color","secondary","value","highest",3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","introduction-button","shape","round","color","secondary",3,"click"],["id","dismiss-button","shape","round","color","primary",3,"click"],["color","secondary","value","highest",3,"ngModel","ngModelChange"],["value","highest"],["value","medium"],[3,"innerHTML",4,"ngIf"],[1,"ion-padding-top","ion-align-items-center"],["size","5",4,"ngIf"],["size","7"],[3,"innerHTML"],["size","5"],["src","./assets/img/airgap_onboarding_wallet-notebook.svg"],["src","./assets/img/airgap_onboarding_wallet.svg"],[1,"ion-padding-vertical","ion-align-items-center"],["size","5",1,"ion-text-center"],["src","./assets/img/qrcode.svg",1,"connector--img"],[1,"ion-align-items-center"],["src","./assets/img/airgap_onboarding_vault.svg"],["src","./assets/img/signer-vault-ledger-desktop.svg"],["src","./assets/img/clone.svg",1,"connector--img"]],template:function(t,e){1&t&&(a.Sb(0,"ion-header",0),a.Sb(1,"ion-toolbar"),a.Sb(2,"ion-title"),a.yc(3),a.dc(4,"translate"),a.Rb(),a.Sb(5,"ion-buttons",1),a.Sb(6,"ion-button",2),a.ac("click",function(){return e.dismiss()}),a.Ob(7,"ion-icon",3),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(8,"ion-content",4),a.wc(9,b,9,7,"ion-segment",5),a.wc(10,S,15,12,"ng-container",6),a.wc(11,v,29,18,"ng-container",6),a.Sb(12,"ion-fab",7),a.Sb(13,"ion-button",8),a.ac("click",function(){return e.openIntroductionDownloadPage()}),a.yc(14),a.dc(15,"translate"),a.Rb(),a.Sb(16,"ion-button",9),a.ac("click",function(){return e.dismiss()}),a.yc(17),a.dc(18,"translate"),a.Rb(),a.Rb(),a.Rb()),2&t&&(a.Cb(3),a.zc(a.ec(4,6,"introduction.title")),a.Cb(6),a.ic("ngIf",!e.isDesktop),a.Cb(1),a.ic("ngIf","highest"===e.security),a.Cb(1),a.ic("ngIf","medium"===e.security),a.Cb(3),a.Ac(" ",a.ec(15,8,"introduction.vault-install_label")," "),a.Cb(3),a.Ac(" ",a.ec(18,10,"introduction.continue_label")," "))},directives:[r.v,r.ib,r.gb,r.j,r.i,r.w,r.q,s.o,r.r,r.S,r.ub,l.h,l.j,r.T,r.D,r.Q,r.p],pipes:[d.c],styles:[".connector--img[_ngcontent-%COMP%]{height:40px;width:40px}"]}),t})()}}]);