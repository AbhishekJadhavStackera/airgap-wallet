(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{RpAR:function(e,t,i){"use strict";i.r(t),i.d(t,"TransactionPreparePageModule",function(){return U});var n=i("138U"),a=i("ofXK"),o=i("3Pt+"),r=i("tyNb"),s=i("TEn/"),c=i("sYmb"),l=i("j1ZV"),d=i("iTUp"),b=i("mrSG"),u=i("RKiA"),m=i("14cC"),p=i("kB5k"),h=i("2Vo4"),v=i("Kj3r"),g=i("57MG"),f=i("QMTT"),S=i("1y+R"),M=i("nxqh"),A=i("hPkG");class _{static validate(e,t){return i=>Object(b.a)(this,void 0,void 0,function*(){return(yield t.validate(String(i.value),e))?null:{addressFormat:"Address format is unknown."}})}}var C=i("fUHw"),w=i("GHcB"),P=i("fXoL"),x=i("pNtj"),y=i("iLEx");function O(e,t){if(1&e&&(P.Sb(0,"ion-badge"),P.yc(1),P.Rb()),2&e){const e=P.cc(2);P.Cb(1),P.Ac(" ",e.wallet.protocol.options.network.rpcUrl," ")}}function F(e,t){if(1&e&&(P.Qb(0,47),P.Sb(1,"ion-badge",48),P.yc(2),P.Rb(),P.wc(3,O,2,1,"ion-badge",13),P.Pb()),2&e){const e=P.cc();P.Cb(2),P.zc(e.wallet.protocol.options.network.name),P.Cb(1),P.ic("ngIf",e.wallet.protocol.options.network.type===e.networkType.CUSTOM)}}const R=function(e,t){return{protocol:e,maxDigits:t}};function N(e,t){if(1&e&&(P.Qb(0),P.yc(1),P.dc(2,"async"),P.dc(3,"amountConverter"),P.Pb()),2&e){const e=P.cc();P.Cb(1),P.Ac(" ",P.ec(2,1,P.fc(3,3,e.state.availableBalance,P.nc(6,R,e.wallet.protocol.identifier,e.wallet.protocol.decimals+1)))," ")}}function B(e,t){1&e&&P.Ob(0,"ion-spinner",49)}function k(e,t){1&e&&(P.Sb(0,"span"),P.yc(1),P.dc(2,"translate"),P.Rb()),2&e&&(P.Cb(1),P.zc(P.ec(2,1,"transaction-prepare.fee.max_label")))}function D(e,t){1&e&&(P.Sb(0,"ion-col",50),P.Sb(1,"ion-text",51),P.Sb(2,"p",27),P.yc(3),P.dc(4,"translate"),P.Rb(),P.Rb(),P.Rb()),2&e&&(P.Cb(3),P.Ac(" ",P.ec(4,1,"transaction-prepare.error.amount_label")," "))}function T(e,t){if(1&e){const e=P.Tb();P.Sb(0,"ion-row",52),P.Sb(1,"ion-col",4),P.Sb(2,"ion-item",18),P.Sb(3,"ion-label"),P.yc(4),P.dc(5,"translate"),P.Rb(),P.Sb(6,"ion-toggle",53),P.ac("ionChange",function(){return P.qc(e),P.cc().toggleExcludeExistentialDeposit()}),P.Rb(),P.Rb(),P.Rb(),P.Rb()}if(2&e){const e=P.cc();P.Cb(4),P.zc(P.ec(5,2,"transaction-prepare.existential_deposit")),P.Cb(2),P.ic("checked",e.ignoreExistentialDeposit)}}function I(e,t){if(1&e&&(P.Sb(0,"ion-label",11),P.yc(1),P.dc(2,"shortenString"),P.Rb()),2&e){const e=P.cc();P.Cb(1),P.Ac(" ",P.ec(2,1,e.state.receiverAddress)," ")}}const j=function(e){return{addressPlaceholder:e}};function E(e,t){if(1&e&&(P.Sb(0,"ion-col",54),P.Sb(1,"ion-text",51),P.Ob(2,"p",55),P.dc(3,"translate"),P.Rb(),P.Rb()),2&e){const e=P.cc();P.Cb(2),P.ic("innerHTML",P.fc(3,1,"transaction-prepare.error.address_label",P.mc(4,j,e.wallet.protocol.addressPlaceholder)),P.rc)}}const z=function(e){return{title:e}};let L=(()=>{class e{constructor(e,t,i,n,a,r,s,c,l,d,p,v,g){this.loadingCtrl=e,this.formBuilder=t,this.router=i,this.route=n,this._ngZone=a,this.clipboardProvider=r,this.operationsProvider=s,this.dataService=c,this.amountConverterPipe=l,this.priceService=d,this.saplingService=p,this.addressService=v,this.accountProvider=g,this.networkType=m.NetworkType,this.publicKey=this.route.snapshot.params.publicKey,this.protocolID=this.route.snapshot.params.protocolID;const f=this.route.snapshot.params.addressIndex;this.addressIndex="undefined"===f?void 0:Number(f),this.state$=new h.a(this._state);const S="false"===this.route.snapshot.params.address?"":this.route.snapshot.params.address||"",M=Number(this.route.snapshot.params.amount)||0,w=this.accountProvider.walletByPublicKeyAndProtocolAndAddressIndex(this.publicKey,this.protocolID,this.addressIndex),P="forced"===this.route.snapshot.params.forceMigration||!1;this.transactionForm=this.formBuilder.group({receiver:[S,o.m.required,_.validate(w.protocol,this.addressService)],amount:[M,o.m.compose([o.m.required,C.a.validate(w.protocol.decimals)])],feeLevel:[0,[o.m.required]],fee:[0,o.m.compose([o.m.required,C.a.validate(w.protocol.feeDecimals)])],memo:[void 0],isAdvancedMode:[!1,[]]}),this.wallet=w,this.isSubstrate=w.protocol.identifier===u.MainProtocolSymbols.KUSAMA||w.protocol.identifier===u.MainProtocolSymbols.POLKADOT,this.ignoreExistentialDeposit=!!this.isSubstrate||void 0,this.isSapling=w.protocol.identifier===u.MainProtocolSymbols.XTZ_SHIELDED,this.isSapling&&this.saplingService.initSapling(),this.initState().then(()=>Object(b.a)(this,void 0,void 0,function*(){P&&(yield this.forceMigration()),this.onChanges(),this.updateFeeEstimate()})).catch(Object(A.b)(A.a.OTHER))}onChanges(){this.state$.pipe(Object(v.a)(200)).subscribe(e=>{this.onStateUpdated(e)}),this.transactionForm.get("receiver").valueChanges.pipe(Object(v.a)(500)).subscribe(e=>Object(b.a)(this,void 0,void 0,function*(){const t=yield this.addressService.getAddress(e,this.wallet.protocol);this.updateState({receiver:{value:e,dirty:!0},receiverAddress:void 0!==t?t:"",disableSendMaxAmount:!1,disablePrepareButton:this.transactionForm.invalid||void 0===t||new p.BigNumber(this._state.amount.value).lte(0)}),this.updateFeeEstimate()})),this.transactionForm.get("amount").valueChanges.pipe(Object(v.a)(500)).subscribe(e=>{const t=new p.BigNumber(e);this.updateState({sendMaxAmount:!1,amount:{value:t.isNaN()?"":t.toFixed(),dirty:!0},disablePrepareButton:this.transactionForm.invalid||t.isNaN()||t.lte(0)}),this.updateFeeEstimate()}),this.transactionForm.get("fee").valueChanges.pipe(Object(v.a)(500)).subscribe(e=>{const t=new p.BigNumber(e);this.updateState({fee:{value:t.isNaN()?"":t.toFixed(),dirty:!0},disablePrepareButton:this.transactionForm.invalid||new p.BigNumber(this._state.amount.value).lte(0)}),this._state.sendMaxAmount&&this.updateWithMaxAmount(t.toString(10))}),this.transactionForm.get("feeLevel").valueChanges.subscribe(e=>{const t=new p.BigNumber(this.getFeeFromLevel(e));this.updateState({fee:{value:t.toFixed(),dirty:!1},feeLevel:{value:e,dirty:!0},disablePrepareButton:this.transactionForm.invalid||new p.BigNumber(this._state.amount.value).lte(0)},!1),this._state.sendMaxAmount&&this.updateWithMaxAmount(t.toString(10))}),this.transactionForm.get("isAdvancedMode").valueChanges.subscribe(e=>{this.updateState({isAdvancedMode:{value:e,dirty:!0},disablePrepareButton:this.transactionForm.invalid||new p.BigNumber(this._state.amount.value).lte(0)},!1)}),this.transactionForm.get("memo").valueChanges.subscribe(e=>{this.updateState({memo:{value:e,dirty:!0},disablePrepareButton:this.transactionForm.invalid||new p.BigNumber(this._state.amount.value).lte(0)},!1)})}initState(){return Object(b.a)(this,void 0,void 0,function*(){this._state={availableBalance:null,forceMigration:!1,feeDefaults:this.wallet.protocol.feeDefaults,feeCurrentMarketPrice:null,sendMaxAmount:!1,disableSendMaxAmount:!0,disableAdvancedMode:this.isSubstrate||this.isSapling,disableFeeSlider:!0,disablePrepareButton:!0,estimatingMaxAmount:!1,estimatingFeeDefaults:!1,receiver:{value:this.transactionForm.controls.receiver.value,dirty:!1},receiverAddress:this.transactionForm.controls.receiver.value,amount:{value:this.transactionForm.controls.amount.value,dirty:!1},feeLevel:{value:this.transactionForm.controls.feeLevel.value,dirty:!1},fee:{value:this.transactionForm.controls.fee.value,dirty:!1},isAdvancedMode:{value:this.transactionForm.controls.isAdvancedMode.value,dirty:!1},memo:{value:this.transactionForm.controls.memo.value,dirty:!1}},this.state=this._state;const[e,t]=yield Promise.all([this.calculateFeeCurrentMarketPrice(this.wallet),this.getAvailableBalance(this.wallet)]);this.updateState({availableBalance:t,feeCurrentMarketPrice:e})})}updateState(e,t=!0){this._state=this.reduceState(this._state,e),t?this.state$.next(this._state):this.onStateUpdated(this._state)}reduceState(e,t){return{availableBalance:void 0!==t.availableBalance?t.availableBalance:e.availableBalance,forceMigration:void 0!==t.forceMigration?t.forceMigration:e.forceMigration,feeDefaults:t.feeDefaults||e.feeDefaults,feeCurrentMarketPrice:void 0!==t.feeCurrentMarketPrice?t.feeCurrentMarketPrice:e.feeCurrentMarketPrice,sendMaxAmount:void 0!==t.sendMaxAmount?t.sendMaxAmount:e.sendMaxAmount,disableSendMaxAmount:void 0!==t.disableSendMaxAmount?t.disableSendMaxAmount:e.disableSendMaxAmount,disableAdvancedMode:this.isSubstrate||(void 0!==t.disableAdvancedMode?t.disableAdvancedMode:e.disableAdvancedMode),disableFeeSlider:this.isSubstrate||(void 0!==t.disableFeeSlider?t.disableFeeSlider:e.disableFeeSlider),disablePrepareButton:void 0!==t.disablePrepareButton?t.disablePrepareButton:e.disablePrepareButton,estimatingMaxAmount:void 0!==t.estimatingMaxAmount?t.estimatingMaxAmount:e.estimatingMaxAmount,estimatingFeeDefaults:void 0!==t.estimatingFeeDefaults?t.estimatingFeeDefaults:e.estimatingFeeDefaults,receiver:t.receiver||e.receiver,receiverAddress:void 0!==t.receiverAddress?t.receiverAddress:e.receiverAddress,amount:t.amount||e.amount,feeLevel:t.feeLevel||e.feeLevel,fee:t.fee||e.fee,isAdvancedMode:t.isAdvancedMode||e.isAdvancedMode,memo:t.memo||e.memo}}onStateUpdated(e){this.state=e,this.updateTransactionForm({receiver:this.state.receiver,amount:this.state.amount,fee:this.state.fee,feeLevel:this.state.feeLevel,isAdvancedMode:this.state.isAdvancedMode})}updateTransactionForm(e){const t=this.transactionForm.value,i={};Object.keys(t).forEach(n=>{n in e&&!e[n].dirty&&e[n].value!==t[n]&&(i[n]=e[n].value)}),this._ngZone.run(()=>{this.transactionForm.patchValue(i,{emitEvent:!1}),Object.keys(i).forEach(e=>{this.transactionForm.controls[e].markAsDirty()})})}calculateFeeCurrentMarketPrice(e){return Object(b.a)(this,void 0,void 0,function*(){return e.protocol.identifier===u.SubProtocolSymbols.XTZ_BTC?this.priceService.getCurrentMarketPrice(new u.TezosProtocol,"USD").then(e=>e.toNumber()):e.protocol.identifier.startsWith(u.SubProtocolSymbols.ETH_ERC20)?this.priceService.getCurrentMarketPrice(new u.EthereumProtocol,"USD").then(e=>e.toNumber()):e.currentMarketPrice.toNumber()})}getAvailableBalance(e){return Object(b.a)(this,void 0,void 0,function*(){return e.protocol.identifier===u.MainProtocolSymbols.COSMOS||e.protocol.identifier===u.MainProtocolSymbols.KUSAMA||e.protocol.identifier===u.MainProtocolSymbols.POLKADOT?new p.BigNumber(yield e.protocol.getAvailableBalanceOfAddresses([e.addresses[0]])):e.currentBalance})}updateFeeEstimate(){return Object(b.a)(this,void 0,void 0,function*(){if(!this._state.isAdvancedMode.value){this.updateState({estimatingFeeDefaults:!0,disableFeeSlider:!0,disablePrepareButton:!0});const e=yield this.estimateFees().catch(()=>{}),t=e&&!this.isSubstrate?1:this._state.feeLevel.value;this.updateState({estimatingFeeDefaults:!1,feeDefaults:e,fee:{value:new p.BigNumber(this.getFeeFromLevel(t,e)).toFixed(),dirty:!1},feeLevel:{value:t,dirty:!1},disableFeeSlider:!e,disablePrepareButton:!e||this.transactionForm.invalid||new p.BigNumber(this._state.amount.value).lte(0)})}})}estimateFees(){return Object(b.a)(this,void 0,void 0,function*(){const e=new p.BigNumber(this._state.amount.value).shiftedBy(this.wallet.protocol.decimals),t=this.transactionForm.controls.receiver.valid,i=this.transactionForm.controls.amount.valid&&!e.isNaN()&&e.gt(0);return t&&i&&this._state.receiverAddress?this.operationsProvider.estimateFees(this.wallet,this._state.receiverAddress,e):void 0})}getFeeFromLevel(e,t){const i=t||this._state.feeDefaults;switch(e){case 0:return i.low;case 1:return i.medium;case 2:return i.high;default:return i.medium}}prepareTransaction(){return Object(b.a)(this,void 0,void 0,function*(){const e=new p.BigNumber(this._state.amount.value).shiftedBy(this.wallet.protocol.decimals),t=new p.BigNumber(this._state.fee.value).shiftedBy(this.wallet.protocol.feeDecimals),i=this.isSubstrate?!this.ignoreExistentialDeposit:this._state.memo.value;try{const{airGapTxs:n,unsignedTx:a}=yield this.operationsProvider.prepareTransaction(this.wallet,this._state.receiverAddress,e,t,this.accountProvider.getWalletList(),i);this.dataService.setData(S.b.INTERACTION,{wallet:this.wallet,airGapTxs:n,data:a,type:u.IACMessageType.TransactionSignRequest}),this.router.navigateByUrl("/interaction-selection/"+S.b.INTERACTION).catch(Object(A.b)(A.a.NAVIGATION))}catch(n){}})}openScanner(){this.dataService.setData(S.b.SCAN,{callback:e=>Object(b.a)(this,void 0,void 0,function*(){const t=yield this.addressService.getAddress(e,this.wallet.protocol);this.updateState({receiver:{value:e,dirty:!1},receiverAddress:void 0!==t?t:""})})}),this.router.navigateByUrl("/scan-address/"+S.b.SCAN).catch(Object(A.b)(A.a.NAVIGATION))}toggleMaxAmount(){return Object(b.a)(this,void 0,void 0,function*(){this.updateState({sendMaxAmount:!this._state.sendMaxAmount},!1),this._state.sendMaxAmount&&(yield this.updateWithMaxAmount(),this.updateFeeEstimate())})}forceMigration(){return Object(b.a)(this,void 0,void 0,function*(){this.updateState({forceMigration:!0,sendMaxAmount:!0,disablePrepareButton:!1},!1),yield this.updateWithMaxAmount()})}updateWithMaxAmount(e){return Object(b.a)(this,void 0,void 0,function*(){this.updateState({estimatingMaxAmount:!0});const t=e?new p.BigNumber(e).shiftedBy(this.wallet.protocol.feeDecimals):void 0,i=yield this.operationsProvider.estimateMaxTransferAmount(this.wallet,this._state.receiverAddress,t,!this.ignoreExistentialDeposit),n=this.amountConverterPipe.transformValueOnly(i,this.wallet.protocol,this.wallet.protocol.decimals+1);i.isNaN()||this.updateState({estimatingMaxAmount:!1,amount:{value:n,dirty:!1},disablePrepareButton:this.transactionForm.invalid||i.isNaN()||i.lte(0)})})}toggleExcludeExistentialDeposit(){this.ignoreExistentialDeposit=!this.ignoreExistentialDeposit}pasteClipboard(){this.clipboardProvider.paste().then(e=>Object(b.a)(this,void 0,void 0,function*(){const t=yield this.addressService.getAddress(e,this.wallet.protocol);this.updateState({receiver:{value:e,dirty:!1},receiverAddress:void 0!==t?t:"",disableSendMaxAmount:!1,disablePrepareButton:this.transactionForm.invalid||void 0===t||new p.BigNumber(this._state.amount.value).lte(0)}),this.updateFeeEstimate()}),e=>{console.error("Error: "+e)})}}return e.\u0275fac=function(t){return new(t||e)(P.Nb(s.lb),P.Nb(o.b),P.Nb(r.g),P.Nb(r.a),P.Nb(P.B),P.Nb(n.k),P.Nb(M.a),P.Nb(S.a),P.Nb(n.g),P.Nb(f.a),P.Nb(w.a),P.Nb(n.d),P.Nb(g.a))},e.\u0275cmp=P.Hb({type:e,selectors:[["page-transaction-prepare"]],decls:81,vars:50,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/tabs/portfolio"],[1,"ion-no-padding"],["fixed","true"],[1,"ion-padding-horizontal"],["class","ion-no-padding","lines","none","slot","start",4,"ngIf"],[1,"ion-padding-bottom",3,"formGroup"],[1,"ion-justify-content-between"],["size","3"],["color","blackLight","position","stacked",1,"ion-no-margin"],["size","9",1,"ion-text-end"],[4,"ngIf"],[1,"amount__container"],["size","2",1,"d-flex","ion-align-items-center"],[3,"address"],["size","7",1,"ion-no-padding","amount--container__input"],["lines","none",1,"ion-no-padding"],["formControlName","amount","type","number","id","amount-input","placeholder","0.0"],["size","3",1,"ion-no-padding","d-flex","ion-align-items-center"],["slot","end"],["shape","round","size","small","color","secondary",3,"fill","click"],["name","lines-small","color","primary",4,"ngIf"],["size","10","offset","2","class","ion-no-padding error--container",4,"ngIf"],["offset","2",1,"ion-no-padding"],["color","blackLight",1,"ion-no-margin"],[1,"ion-no-margin"],["class","rawdata--container",4,"ngIf"],[1,"ion-text-center","ion-no-padding","divider--container"],["name","arrow-down-outline","color","medium"],["color","blackLight","position","stacked"],["color","blackLight","class","ion-no-margin","position","stacked",4,"ngIf"],[1,"to__container"],["size","2"],[1,"d-flex","ion-align-items-center"],["size","10",1,"ion-no-padding"],[1,"content--align-vert__center","to-address__item","ion-no-padding"],["formControlName","receiver","id","receiver-input",3,"placeholder"],["size","10","offset","2","class","ion-no-padding error--address",4,"ngIf"],["size","10","offset","2",1,"address-to__buttons"],["fill","outline","size","small","color","secondary","shape","round",3,"click"],["slot","start","name","barcode-outline"],[3,"wallet","state","form"],["vertical","bottom","horizontal","end","slot","fixed"],["id","prepare","size","default","color","primary","shape","round",3,"disabled","click"],["slot","start","name","open"],["lines","none","slot","start",1,"ion-no-padding"],["color","danger"],["name","lines-small","color","primary"],["size","10","offset","2",1,"ion-no-padding","error--container"],["color","danger",1,"ion-no-margin"],[1,"rawdata--container"],["slot","end",3,"checked","ionChange"],["size","10","offset","2",1,"ion-no-padding","error--address"],[1,"ion-no-margin",3,"innerHTML"]],template:function(e,t){1&e&&(P.Sb(0,"ion-header",0),P.Sb(1,"ion-grid",1),P.Sb(2,"ion-toolbar"),P.Sb(3,"ion-buttons",2),P.Ob(4,"ion-back-button",3),P.Rb(),P.Sb(5,"ion-title"),P.yc(6),P.dc(7,"translate"),P.Rb(),P.Rb(),P.Rb(),P.Rb(),P.Sb(8,"ion-content",4),P.Sb(9,"ion-grid",5),P.Sb(10,"ion-row",6),P.Sb(11,"ion-col",4),P.Sb(12,"ion-row"),P.wc(13,F,4,2,"ng-container",7),P.Rb(),P.Rb(),P.Rb(),P.Sb(14,"form",8),P.Sb(15,"ion-card"),P.Sb(16,"ion-row",9),P.Sb(17,"ion-col",10),P.Sb(18,"ion-label",11),P.yc(19),P.dc(20,"translate"),P.Rb(),P.Rb(),P.Sb(21,"ion-col",12),P.Sb(22,"ion-label",11),P.yc(23),P.dc(24,"translate"),P.wc(25,N,4,9,"ng-container",13),P.Rb(),P.Rb(),P.Rb(),P.Sb(26,"ion-row",14),P.Sb(27,"ion-col",15),P.Sb(28,"ion-avatar"),P.Ob(29,"airgap-identicon",16),P.Rb(),P.Rb(),P.Sb(30,"ion-col",17),P.Sb(31,"ion-item",18),P.Ob(32,"ion-input",19),P.Rb(),P.Rb(),P.Sb(33,"ion-col",20),P.Sb(34,"ion-toolbar"),P.Sb(35,"ion-buttons",21),P.Sb(36,"ion-button",22),P.ac("click",function(){return t.toggleMaxAmount()}),P.wc(37,B,1,0,"ion-spinner",23),P.wc(38,k,3,3,"span",13),P.Rb(),P.Rb(),P.Rb(),P.Rb(),P.Rb(),P.Sb(39,"ion-row"),P.wc(40,D,5,3,"ion-col",24),P.Rb(),P.Sb(41,"ion-row"),P.Sb(42,"ion-col",25),P.Sb(43,"ion-text",26),P.Sb(44,"p",27),P.yc(45),P.dc(46,"number"),P.Rb(),P.Rb(),P.Rb(),P.Rb(),P.wc(47,T,7,4,"ion-row",28),P.Rb(),P.Sb(48,"ion-row"),P.Sb(49,"ion-col",29),P.Ob(50,"ion-icon",30),P.Rb(),P.Rb(),P.Sb(51,"ion-card"),P.Sb(52,"ion-row"),P.Sb(53,"ion-col",10),P.Sb(54,"ion-label",31),P.yc(55),P.dc(56,"translate"),P.Rb(),P.Rb(),P.Sb(57,"ion-col",12),P.wc(58,I,3,3,"ion-label",32),P.Rb(),P.Rb(),P.Sb(59,"ion-row",33),P.Sb(60,"ion-col",34),P.Sb(61,"ion-avatar",35),P.Ob(62,"airgap-identicon",16),P.Rb(),P.Rb(),P.Sb(63,"ion-col",36),P.Sb(64,"ion-item",37),P.Ob(65,"ion-textarea",38),P.Rb(),P.Rb(),P.wc(66,E,4,6,"ion-col",39),P.Sb(67,"ion-col",40),P.Sb(68,"ion-button",41),P.ac("click",function(){return t.pasteClipboard()}),P.yc(69),P.dc(70,"translate"),P.Rb(),P.Sb(71,"ion-button",41),P.ac("click",function(){return t.openScanner()}),P.Ob(72,"ion-icon",42),P.yc(73),P.dc(74,"translate"),P.Rb(),P.Rb(),P.Rb(),P.Rb(),P.Ob(75,"fee",43),P.Rb(),P.Rb(),P.Sb(76,"ion-fab",44),P.Sb(77,"ion-button",45),P.ac("click",function(){return t.prepareTransaction()}),P.Ob(78,"ion-icon",46),P.yc(79),P.dc(80,"translate"),P.Rb(),P.Rb(),P.Rb()),2&e&&(P.Cb(6),P.Ac(" ",P.fc(7,30,"transaction-prepare.title",P.mc(48,z,t.wallet.protocol.symbol))," "),P.Cb(7),P.ic("ngIf",t.wallet.protocol.options.network&&t.wallet.protocol.options.network.type!==t.networkType.MAINNET),P.Cb(1),P.ic("formGroup",t.transactionForm),P.Cb(5),P.Ac(" ",P.ec(20,33,"transaction-prepare.amount_label")," "),P.Cb(4),P.Ac(" ",P.ec(24,35,"transaction-prepare.balance_label")," "),P.Cb(2),P.ic("ngIf",null!==t.state.availableBalance),P.Cb(4),P.ic("address",t.wallet.receivingPublicAddress),P.Cb(3),P.Db("disabled",t.state.forceMigration),P.Cb(4),P.ic("fill",t.state.sendMaxAmount?"solid":"outline"),P.Db("disabled",t.state.disableSendMaxAmount),P.Cb(1),P.ic("ngIf",t.state.estimatingMaxAmount),P.Cb(1),P.ic("ngIf",!t.state.estimatingMaxAmount),P.Cb(2),P.ic("ngIf",!t.transactionForm.controls.amount.valid),P.Cb(5),P.Ac(" $",P.fc(46,37,t.wallet.currentMarketPrice.times(t.state.amount.value).toNumber(),"1.2-2")," "),P.Cb(2),P.ic("ngIf",t.isSubstrate&&!t.state.disableSendMaxAmount),P.Cb(8),P.zc(P.ec(56,40,"transaction-prepare.to-address_label")),P.Cb(3),P.ic("ngIf",t.state.receiverAddress.length>0&&t.state.receiverAddress!==t.state.receiver.value),P.Cb(4),P.ic("address",t.state.receiverAddress),P.Cb(3),P.ic("placeholder",t.wallet.protocol.addressPlaceholder),P.Db("disabled",t.state.forceMigration),P.Cb(1),P.ic("ngIf",t.transactionForm.controls.receiver.dirty&&t.transactionForm.controls.receiver.invalid),P.Cb(2),P.Db("disabled",t.state.forceMigration),P.Cb(1),P.Ac(" ",P.ec(70,42,"transaction-prepare.paste_label")," "),P.Cb(2),P.Db("disabled",t.state.forceMigration),P.Cb(2),P.Ac(" ",P.ec(74,44,"transaction-prepare.to-address-scan_label")," "),P.Cb(2),P.ic("wallet",t.wallet)("state",t.state)("form",t.transactionForm),P.Cb(2),P.ic("disabled",t.state.disablePrepareButton),P.Cb(2),P.Ac(" ",P.ec(80,46,"transaction-prepare.create-transaction")," "))},directives:[s.v,s.u,s.ib,s.j,s.f,s.g,s.gb,s.q,s.Q,s.p,a.o,o.n,o.i,o.d,s.k,s.D,s.e,n.r,s.A,s.z,s.pb,o.h,o.c,s.i,s.eb,s.w,s.fb,s.vb,x.a,s.r,s.h,s.Z,s.hb,s.b],pipes:[c.c,a.f,a.b,n.g,y.a],styles:[".item-ios.item-toggle[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .item-md.item-toggle[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .label-stacked[_ngcontent-%COMP%]{font-size:14px}.font--size__large[_ngcontent-%COMP%]{font-size:large}.to-address__item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{font-size:12px}.address-to__buttons[_ngcontent-%COMP%]{padding:4px 0 0}.amount__container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom-color:#0000!important;box-shadow:none!important}.amount__container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin:0;--padding-top:12px}.amount__container[_ngcontent-%COMP%]   .md[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-bottom:0}.amount__container[_ngcontent-%COMP%]   .amount--container__input[_ngcontent-%COMP%], .amount__container[_ngcontent-%COMP%]   .amount--container__input[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{padding-right:0}.amount__container[_ngcontent-%COMP%], .to__container[_ngcontent-%COMP%]{padding-top:8px}.error--container[_ngcontent-%COMP%]{padding-bottom:8px}ion-avatar[_ngcontent-%COMP%]{height:40px;min-height:40px;width:40px;min-width:40px}.range-slider[_ngcontent-%COMP%]{--bar-background:rgba(var(--ion-color-secondary-rgb),0.12);--bar-background-active:var(--ion-color-primary)}.advanced-item[_ngcontent-%COMP%]{--border-color:var(--ion-color-primary)}ion-card[_ngcontent-%COMP%]{padding:12px}.divider--container[_ngcontent-%COMP%]{padding-top:8px}.native-textarea.sc-ion-textarea-md[_ngcontent-%COMP%]{padding-top:0}ion-textarea[_ngcontent-%COMP%]{--padding-top:0}ion-content[_ngcontent-%COMP%]{--padding-bottom:108px}"]}),e})(),U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=P.Lb({type:e}),e.\u0275inj=P.Kb({imports:[[s.jb,a.c,o.e,o.k,c.b,l.a,d.a,r.j.forChild([{path:"",component:L}]),n.e]]}),e})()}}]);