(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{npiH:function(e,i,n){"use strict";n.r(i),n.d(i,"DappPermissionListPageModule",function(){return S});var t=n("138U"),s=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),a=n("sYmb"),c=n("j1ZV"),l=n("tyNb"),b=n("mrSG"),d=n("hzei"),p=n("q3zY"),m=n("fXoL");function g(e,i){1&e&&(m.Sb(0,"div",6),m.Ob(1,"img",7),m.Sb(2,"p"),m.yc(3),m.dc(4,"translate"),m.Rb(),m.Rb()),2&e&&(m.Cb(3),m.zc(m.ec(4,1,"dapp-permission-list.no-permissions")))}function f(e,i){if(1&e&&(m.Sb(0,"ion-badge",16),m.yc(1),m.Rb()),2&e){const e=m.cc().$implicit;m.Cb(1),m.zc(e.network.rpcUrl)}}function u(e,i){if(1&e){const e=m.Tb();m.Sb(0,"ion-item",8),m.Sb(1,"ion-label"),m.Sb(2,"h3"),m.Sb(3,"strong"),m.yc(4),m.Rb(),m.Rb(),m.Sb(5,"div",9),m.Ob(6,"airgap-identicon",10),m.Sb(7,"p",11),m.yc(8),m.Rb(),m.Rb(),m.Sb(9,"ion-badge",12),m.yc(10),m.Rb(),m.Sb(11,"div"),m.Sb(12,"ion-badge",13),m.yc(13),m.Rb(),m.wc(14,f,2,1,"ion-badge",14),m.Rb(),m.Rb(),m.Sb(15,"ion-button",15),m.ac("click",function(){m.qc(e);const n=i.$implicit;return m.cc().deletePermission(n)}),m.yc(16),m.dc(17,"translate"),m.Rb(),m.Rb()}if(2&e){const e=i.$implicit;m.Cb(4),m.zc(e.appMetadata.name),m.Cb(2),m.ic("address",e.address),m.Cb(2),m.zc(e.address),m.Cb(2),m.zc(e.scopes),m.Cb(3),m.zc(e.network.type),m.Cb(1),m.ic("ngIf",e.network.rpcUrl),m.Cb(2),m.Ac(" ",m.ec(17,7,"dapp-permission-list.remove_label")," ")}}const h=[{path:"",component:(()=>{class e{constructor(e,i,n){this.beaconService=e,this.alertController=i,this.translate=n,this.networkType=d.o,this.beaconPermissions=[],this.loadPermissions().catch(console.error)}loadPermissions(){return Object(b.a)(this,void 0,void 0,function*(){this.beaconPermissions=yield this.beaconService.client.getPermissions()})}deletePermission(e){return Object(b.a)(this,void 0,void 0,function*(){this.translate.get(["dapp-permission-list.delete-permission-alert.header","dapp-permission-list.delete-permission-alert.message","dapp-permission-list.delete-permission-alert.cancel_label","dapp-permission-list.delete-permission-alert.yes_label"]).subscribe(i=>Object(b.a)(this,void 0,void 0,function*(){const n=yield this.alertController.create({header:i["dapp-permission-list.delete-permission-alert.header"],message:i["dapp-permission-list.delete-permission-alert.message"],buttons:[{text:i["dapp-permission-list.delete-permission-alert.cancel_label"],role:"cancel",cssClass:"secondary"},{text:i["dapp-permission-list.delete-permission-alert.yes_label"],handler:()=>Object(b.a)(this,void 0,void 0,function*(){yield this.beaconService.client.removePermission(e.accountIdentifier),yield this.loadPermissions()})}]});yield n.present()}))})}}return e.\u0275fac=function(i){return new(i||e)(m.Nb(p.a),m.Nb(r.a),m.Nb(a.d))},e.\u0275cmp=m.Hb({type:e,selectors:[["app-dapp-permission-list"]],decls:17,vars:8,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/tabs/settings"],["class","empty-list ion-padding-horizontal",4,"ngIf"],["lines","none",4,"ngFor","ngForOf"],[1,"empty-list","ion-padding-horizontal"],["src","assets/img/empty-state-no-transaction.svg",1,"ion-padding-vertical"],["lines","none"],[1,"d-flex","ion-align-items-center"],[3,"address"],[1,"ion-no-margin"],["color","light"],["color","danger",1,"badge__margin"],["class","badge__margin",4,"ngIf"],["slot","end","size","small","fill","outline",3,"click"],[1,"badge__margin"]],template:function(e,i){1&e&&(m.Sb(0,"ion-header",0),m.Sb(1,"ion-grid",1),m.Sb(2,"ion-toolbar"),m.Sb(3,"ion-buttons",2),m.Ob(4,"ion-back-button",3),m.Rb(),m.Sb(5,"ion-title"),m.yc(6),m.dc(7,"translate"),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(8,"ion-content"),m.Sb(9,"ion-grid",1),m.Sb(10,"ion-list"),m.Sb(11,"ion-list-header"),m.Sb(12,"ion-label"),m.yc(13),m.dc(14,"translate"),m.Rb(),m.Rb(),m.wc(15,g,5,3,"div",4),m.wc(16,u,18,9,"ion-item",5),m.Rb(),m.Rb(),m.Rb()),2&e&&(m.Cb(6),m.zc(m.ec(7,4,"dapp-permission-list.title")),m.Cb(7),m.zc(m.ec(14,6,"dapp-permission-list.connected-dapps")),m.Cb(2),m.ic("ngIf",0===i.beaconPermissions.length),m.Cb(1),m.ic("ngForOf",i.beaconPermissions))},directives:[r.v,r.u,r.ib,r.j,r.f,r.g,r.gb,r.q,r.E,r.F,r.D,s.o,s.n,r.A,t.r,r.h,r.i],pipes:[a.c],styles:[".empty-list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center;font-weight:100;font-size:1.4rem;height:50%}.badge__margin[_ngcontent-%COMP%]{margin:0 6px 0 0}"]}),e})()}];let y=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m.Lb({type:e}),e.\u0275inj=m.Kb({imports:[[l.j.forChild(h)],l.j]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m.Lb({type:e}),e.\u0275inj=m.Kb({imports:[[s.c,o.e,r.jb,a.b,c.a,y,t.e]]}),e})()}}]);